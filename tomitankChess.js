/*
* tomitankChess v.1.4.0 by tomitank
* Date:2017.09.18.
* Contact:tomitank@freemail.hu , tanky.hu@gmail.com
* https://github.com/tomitank/tomitankChess
*/

var _0x1b7c=["\x61","\x62","\x63","\x64","\x65","\x66","\x67","\x68","\x70\x75\x73\x68","\x52\x41\x4E\x4B\x5F\x38","\x52\x41\x4E\x4B\x5F\x31","\x46\x49\x4C\x45\x5F\x48","\x46\x49\x4C\x45\x5F\x41","\x52\x41\x4E\x4B\x5F\x34","","\x41\x6C\x73\x6F\x3A\x20\x20","\x6C\x6F\x67","\x46\x65\x6C\x73\x6F\x3A\x20","\x73\x70\x6C\x69\x74","\x2E\x20","\x31","\x58","\x2D","\x52\x41\x4E\x4B\x5F\x32","\x52\x41\x4E\x4B\x5F\x37","\x52\x41\x4E\x4B\x5F\x33","\x52\x41\x4E\x4B\x5F\x36","\x61\x62\x73","\x73\x70\x6C\x69\x63\x65","\x6D\x6F\x76\x65","\x66\x6C\x61\x67\x73","\x64\x65\x70\x74\x68","\x73\x63\x6F\x72\x65","\x68\x61\x73\x68\x4B\x65\x79\x4C\x6F\x77","\x68\x61\x73\x68\x4B\x65\x79\x48\x69\x67\x68","\x43\x31","\x43\x38","\x47\x31","\x47\x38","\x45\x50\x73\x71\x75\x61\x72\x65","\x63\x61\x73\x74\x6C\x65\x42\x49\x54","\x66\x69\x66\x74\x79\x4D\x6F\x76\x65","\x63\x61\x70\x74\x75\x72\x65\x64\x50\x43\x45","\x6D\x61\x78","\x64\x65\x6C\x74\x61","\x70\x69\x65\x63\x65\x4D\x61\x73\x6B","\x6C\x65\x6E\x67\x74\x68","\x52\x41\x4E\x4B\x5F\x35","\x6D\x69\x6E","\x42\x4B\x43\x41","\x46\x49\x4C\x45\x5F\x47","\x46\x49\x4C\x45\x5F\x46","\x42\x51\x43\x41","\x46\x49\x4C\x45\x5F\x42","\x46\x49\x4C\x45\x5F\x43","\x57\x4B\x43\x41","\x57\x51\x43\x41","\x46\x31","\x48\x31","\x48\x32","\x42\x31","\x41\x31","\x41\x32","\x46\x38","\x48\x38","\x48\x37","\x42\x38","\x41\x38","\x41\x37","\x42\x36","\x47\x36","\x43\x37","\x46\x37","\x41\x36","\x42\x35","\x48\x36","\x47\x35","\x45\x32","\x45\x33","\x44\x32","\x44\x33","\x42\x33","\x47\x33","\x43\x32","\x46\x32","\x41\x33","\x42\x34","\x48\x33","\x47\x34","\x45\x37","\x45\x36","\x44\x37","\x44\x36","\x44\x31","\x44\x38","\x6E\x6F\x77","\x64\x61\x74\x61","\x72\x65\x73\x74\x61\x72\x74","\x73\x65\x61\x72\x63\x68","\x53\x65\x61\x72\x63\x68\x53\x74\x61\x72\x74","\x62\x65\x73\x74\x4D\x6F\x76\x65","\x53\x65\x61\x72\x63\x68\x49\x6E\x66\x6F","\x20","\x6D\x61\x74\x65\x20","\x63\x70\x20","\x20\x6C\x6F\x77\x65\x72\x62\x6F\x75\x6E\x64","\x20\x75\x70\x70\x65\x72\x62\x6F\x75\x6E\x64","\x69\x6E\x66\x6F\x20\x64\x65\x70\x74\x68\x20","\x20\x73\x63\x6F\x72\x65\x20","\x20\x6E\x6F\x64\x65\x73\x20","\x20\x74\x69\x6D\x65\x20","\x20\x70\x76","\x0A","\x77\x72\x69\x74\x65\x53\x79\x6E\x63","\x4E\x55\x4C\x4C","\x6E","\x72","\x71","\x66\x73","\x75\x74\x66\x38","\x73\x65\x74\x45\x6E\x63\x6F\x64\x69\x6E\x67","\x73\x74\x64\x69\x6E","\x65\x6E\x64","\x65\x78\x69\x74","\x6F\x6E","\x72\x65\x61\x64\x61\x62\x6C\x65","\x72\x65\x61\x64","\x72\x65\x70\x6C\x61\x63\x65","\x74\x72\x69\x6D","\x75","\x75\x63\x69\x6E\x65\x77\x67\x61\x6D\x65","\x62\x6F\x61\x72\x64","\x71\x75\x69\x74","\x70","\x70\x6F\x73\x69\x74\x69\x6F\x6E","\x73","\x73\x74\x61\x72\x74\x70\x6F\x73","\x67\x6F","\x69\x64","\x72\x65\x61\x64\x79\x6F\x6B\x0A","\x69\x73\x72\x65\x61\x64\x79","\x69\x6E\x66\x6F\x20\x73\x74\x72\x69\x6E\x67\x20\x74\x6F\x6D\x69\x74\x61\x6E\x6B\x43\x68\x65\x73\x73\x20\x69\x73\x20\x61\x6C\x69\x76\x65\x0A","\x70\x69\x6E\x67","\x62\x6F\x61\x72\x64\x20","\x69\x64\x20\x6E\x61\x6D\x65\x20\x74\x6F\x6D\x69\x74\x61\x6E\x6B\x43\x68\x65\x73\x73\x20\x76\x2E\x31\x2E\x34\x2E\x30\x0A","\x69\x64\x20\x61\x75\x74\x68\x6F\x72\x20\x54\x61\x6D\x61\x73\x20\x4B\x75\x7A\x6D\x69\x63\x73\x0A","\x6F\x70\x74\x69\x6F\x6E\x0A","\x75\x63\x69\x6F\x6B\x0A","\x75\x63\x69","\x72\x6E\x62\x71\x6B\x62\x6E\x72\x2F\x70\x70\x70\x70\x70\x70\x70\x70\x2F\x38\x2F\x38\x2F\x38\x2F\x38\x2F\x50\x50\x50\x50\x50\x50\x50\x50\x2F\x52\x4E\x42\x51\x4B\x42\x4E\x52\x20","\x77","\x20\x4B\x51\x6B\x71\x20\x2D\x20\x30\x20\x30","\x69\x6E\x66\x6F\x20\x73\x74\x72\x69\x6E\x67\x20\x50\x6C\x65\x61\x73\x65\x20\x74\x79\x70\x65\x20\x22\x75\x22\x20\x74\x6F\x20\x4E\x65\x77\x20\x47\x61\x6D\x65\x21\x0A","\x72\x6E\x62\x71\x6B\x62\x6E\x72\x2F\x70\x70\x70\x70\x70\x70\x70\x70\x2F\x38\x2F\x38\x2F\x38\x2F\x38\x2F\x50\x50\x50\x50\x50\x50\x50\x50\x2F\x52\x4E\x42\x51\x4B\x42\x4E\x52\x20\x77\x20\x4B\x51\x6B\x71\x20\x2D\x20\x30\x20\x30","\x66\x65\x6E","\x6D\x6F\x76\x65\x73","\x6C\x6F","\x68\x69","\x6D\x6F\x76\x65\x74\x69\x6D\x65","\x6D\x6F\x76\x65\x73\x74\x6F\x67\x6F","\x77\x69\x6E\x63","\x77\x74\x69\x6D\x65","\x62\x69\x6E\x63","\x62\x74\x69\x6D\x65","\x62\x65\x73\x74\x6D\x6F\x76\x65\x20","\x69\x6E\x66\x6F\x20\x68\x61\x73\x68\x66\x75\x6C\x6C\x20","\x72\x6F\x75\x6E\x64","\x3A\x20\x75\x6E\x6B\x6E\x6F\x77\x6E\x20\x63\x6F\x6D\x6D\x61\x6E\x64\x0A","\x72\x61\x6E\x64\x6F\x6D","\x66\x6C\x6F\x6F\x72","\x51","\x52","\x42","\x4B","\x4E","\x50","\x74\x6F\x4C\x6F\x77\x65\x72\x43\x61\x73\x65","\x2F","\x73\x75\x62\x73\x74\x72","\x20\x2D","\x6B","\x20\x30","\x74\x6F\x55\x70\x70\x65\x72\x43\x61\x73\x65"];var nodes=0;var hashUsed=0;var boardPly=0;var MoveTime=0;var maxDepth=64;var bestMove=0;var timeStop=0;var currDepth=0;var moveCount=0;var startTime=0;var SideKeyLow=0;var SideKeyHigh=0;var castleRights=0;var maxSearchTime=0;var currentPlayer=0;var brd_fiftyMove=0;var brd_hashKeyLow=0;var brd_hashKeyHigh=0;var brd_HashTable=null;var brd_Material= new Array(8);var brd_pieceCount= new Array(16);var brd_vectorDelta= new Array(256);var brd_pieceList= new Array(256);var brd_pieceIndex= new Array(120);var brd_PvArray= new Array(maxDepth);var searchKillers= new Array(maxDepth);var brd_moveList= new Array(maxDepth* 256);var brd_moveScores= new Array(maxDepth* 256);var brd_moveStart= new Array(maxDepth);var CastleKeysHigh= new Array(16);var CastleKeysLow= new Array(16);var PieceKeysHigh= new Array(16);var PieceKeysLow= new Array(16);var PawnRanksBlack= new Array(10);var PawnRanksWhite= new Array(10);var historyTable= new Array(16);var WKING_ZONE= new Array(120);var BKING_ZONE= new Array(120);var DISTANCE= new Array(120);var MOVE_HISTORY= new Array();var UI_MODE=0;brd_moveStart[0]= 0;var WHITE=0x0;var BLACK=0x8;var PAWN=0x01;var KNIGHT=0x02;var KING=0x03;var BISHOP=0x05;var ROOK=0x06;var QUEEN=0x07;var WHITE_PAWN=0x01;var WHITE_KNIGHT=0x02;var WHITE_KING=0x03;var WHITE_BISHOP=0x05;var WHITE_ROOK=0x06;var WHITE_QUEEN=0x07;var BLACK_PAWN=0x09;var BLACK_KNIGHT=0x0A;var BLACK_KING=0x0B;var BLACK_BISHOP=0x0D;var BLACK_ROOK=0x0E;var BLACK_QUEEN=0x0F;var FLAG_EXACT=3;var FLAG_ALPHA=2;var FLAG_BETA=1;var FLAG_NONE=0;var NOMOVE=0;var NOT_IN_CHECK=0;var UNKNOWN_CHECK=2;var EN_PASSANT=0;var PawnDoubled=-10;var BishopPair=50;var PawnBackward=-8;var PawnIsolated=-10;var INFINITE=30000;var CAPTURE_MASK=0x4000;var DANGER_MASK=0xFC000;var CASTLED_MASK=0x80000;var TACTICAL_MASK=0x7C000;var ISMATE=INFINITE- 2* maxDepth;var HASHENTRIES=(28<< 20)/ 14;var HASHMASK=HASHENTRIES- 1;var CASTLEBIT={WQCA:1,WKCA:2,BQCA:4,BKCA:8};var PawnShelter=[72,70,64,54,40,22,0];var AttackWeight=[0,0,0.5,0.75,0.88,0.94,0.97,0.99];var PawnPassed=[0,0,0,0,0.1,0.3,0.6,1,0];var MvvLvaScores=[0,1,2,6,0,3,4,5,0,1,2,6,0,3,4,5];var SeeValue=[0,1,3,900,0,3,5,9,0,1,3,900,0,3,5,9];var KnightMoves=[14,-14,18,-18,31,-31,33,-33];var KingMoves=[1,-1,15,-15,16,-16,17,-17];var BishopMoves=[15,-15,17,-17];var RookMoves=[1,-1,16,-16];var DirNum=[0,0,8,8,0,4,4,8];var Letters=[_0x1b7c[0],_0x1b7c[1],_0x1b7c[2],_0x1b7c[3],_0x1b7c[4],_0x1b7c[5],_0x1b7c[6],_0x1b7c[7]];var MOB_W=[1,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1];var MOB_B=[1,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0];var PieceDir=[0,0,KnightMoves,KingMoves,0,BishopMoves,RookMoves,KingMoves];var PieceValue=[0,80,325,20000,0,325,500,1000,0,80,325,20000,0,325,500,1000];var RANKS={RANK_1:1,RANK_2:2,RANK_3:3,RANK_4:4,RANK_5:5,RANK_6:6,RANK_7:7,RANK_8:8};var FILES={FILE_A:1,FILE_B:2,FILE_C:3,FILE_D:4,FILE_E:5,FILE_F:6,FILE_G:7,FILE_H:8};var RankBBMask= new Array(8);var FileBBMask= new Array(8);var SetMask= new Array(120);var ClearMask= new Array(120);var HighSQMask= new Array(120);var BitFixLow= new Array(120);var BitFixHigh= new Array(120);var IsolatedMask= new Array(120);var WhitePassedMask= new Array(120);var BlackPassedMask= new Array(120);var WOpenFileMask= new Array(120);var BOpenFileMask= new Array(120);var CandidateMask= new Array(120);var WCandidateMask= new Array(120);var BCandidateMask= new Array(120);var BlackPawnsLow=0x00FF0000;var BlackPawnsHigh=0x00000000;var WhitePawnsLow=0x00000000;var WhitePawnsHigh=0x0000FF00;var PawnBitBoard=[WhitePawnsLow,WhitePawnsHigh,0,0,0,0,0,0,BlackPawnsLow,BlackPawnsHigh];var BIT_SHIFT=[31,30,29,28,27,26,25,24,0,0,0,0,0,0,0,0,23,22,21,20,19,18,17,16,0,0,0,0,0,0,0,0,15,14,13,12,11,10,9,8,0,0,0,0,0,0,0,0,7,6,5,4,3,2,1,0,0,0,0,0,0,0,0,0,31,30,29,28,27,26,25,24,0,0,0,0,0,0,0,0,23,22,21,20,19,18,17,16,0,0,0,0,0,0,0,0,15,14,13,12,11,10,9,8,0,0,0,0,0,0,0,0,7,6,5,4,3,2,1,0];var SQUARES={A8:0,B8:1,C8:2,D8:3,E8:4,F8:5,G8:6,H8:7,A7:16,B7:17,C7:18,D7:19,E7:20,F7:21,G7:22,H7:23,A6:32,B6:33,C6:34,D6:35,E6:36,F6:37,G6:38,H6:39,A5:48,B5:49,C5:50,D5:51,E5:52,F5:53,G5:54,H5:55,A4:64,B4:65,C4:66,D4:67,E4:68,F4:69,G4:70,H4:71,A3:80,B3:81,C3:82,D3:83,E3:84,F3:85,G3:86,H3:87,A2:96,B2:97,C2:98,D2:99,E2:100,F2:101,G2:102,H2:103,A1:112,B1:113,C1:114,D1:115,E1:116,F1:117,G1:118,H1:119};var CHESS_BOARD=[BLACK_ROOK,BLACK_KNIGHT,BLACK_BISHOP,BLACK_QUEEN,BLACK_KING,BLACK_BISHOP,BLACK_KNIGHT,BLACK_ROOK,0,0,0,0,0,0,0,0,BLACK_PAWN,BLACK_PAWN,BLACK_PAWN,BLACK_PAWN,BLACK_PAWN,BLACK_PAWN,BLACK_PAWN,BLACK_PAWN,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,WHITE_PAWN,WHITE_PAWN,WHITE_PAWN,WHITE_PAWN,WHITE_PAWN,WHITE_PAWN,WHITE_PAWN,WHITE_PAWN,0,0,0,0,0,0,0,0,WHITE_ROOK,WHITE_KNIGHT,WHITE_BISHOP,WHITE_QUEEN,WHITE_KING,WHITE_BISHOP,WHITE_KNIGHT,WHITE_ROOK,0,0,0,0,0,0,0,0];function InitEvalMasks(){if(SetMask[1]!= undefined){return false};var _0xff55x7c,_0xff55x7d,_0xff55x7e,_0xff55x7f;var _0xff55x80=[];for(var _0xff55x81 in SQUARES){_0xff55x80[_0x1b7c[8]](SQUARES[_0xff55x81])};for(_0xff55x7c= 0;_0xff55x7c< 8;++_0xff55x7c){FileBBMask[_0xff55x7c]= 0;RankBBMask[_0xff55x7c]= 0};for(_0xff55x7e= RANKS[_0x1b7c[9]];_0xff55x7e>= RANKS[_0x1b7c[10]];_0xff55x7e--){for(_0xff55x7f= FILES[_0x1b7c[11]];_0xff55x7f>= FILES[_0x1b7c[12]];_0xff55x7f--){_0xff55x7c= (_0xff55x7e- 1)* 8+ (8- _0xff55x7f);FileBBMask[_0xff55x7f]|= (1<< _0xff55x7c);RankBBMask[_0xff55x7e]|= (1<< _0xff55x7c)}};for(_0xff55x7c= 0;_0xff55x7c< 120;_0xff55x7c++){SetMask[_0xff55x7c]= 0;ClearMask[_0xff55x7c]= 0;HighSQMask[_0xff55x7c]= 0;IsolatedMask[_0xff55x7c]= 0;WOpenFileMask[_0xff55x7c]= 0;BOpenFileMask[_0xff55x7c]= 0;CandidateMask[_0xff55x7c]= 0;WCandidateMask[_0xff55x7c]= 0;BCandidateMask[_0xff55x7c]= 0;WhitePassedMask[_0xff55x7c]= 0;BlackPassedMask[_0xff55x7c]= 0;SetMask[_0xff55x7c]|= (1<< BIT_SHIFT[_0xff55x7c]);HighSQMask[_0xff55x7c]|= ((_0xff55x7c>> 6)& 1);ClearMask[_0xff55x7c]=  ~SetMask[_0xff55x7c];BitFixLow[_0xff55x7c]= (_0xff55x7c>= 64?119:64+ _0xff55x7c);BitFixHigh[_0xff55x7c]= (_0xff55x7c>= 64?_0xff55x7c- 64:0)};for(_0xff55x7c= 0;_0xff55x7c< 64;_0xff55x7c++){var _0xff55x82=_0xff55x80[_0xff55x7c];_0xff55x7d= _0xff55x7c+ 8;while(_0xff55x7d< 64){BOpenFileMask[_0xff55x82]|= SetMask[_0xff55x80[_0xff55x7d]];BlackPassedMask[_0xff55x82]|= SetMask[_0xff55x80[_0xff55x7d]];_0xff55x7d+= 8};_0xff55x7d= _0xff55x7c- 8;while(_0xff55x7d>= 0){WOpenFileMask[_0xff55x82]|= SetMask[_0xff55x80[_0xff55x7d]];WhitePassedMask[_0xff55x82]|= SetMask[_0xff55x80[_0xff55x7d]];_0xff55x7d-= 8};if(TableFiles[_0xff55x82]> FILES[_0x1b7c[12]]){IsolatedMask[_0xff55x82]|= FileBBMask[TableFiles[_0xff55x82]- 1];_0xff55x7d= _0xff55x7c+ 7;while(_0xff55x7d< 64){WCandidateMask[_0xff55x82]|= SetMask[_0xff55x80[_0xff55x7d]];BlackPassedMask[_0xff55x82]|= SetMask[_0xff55x80[_0xff55x7d]];_0xff55x7d+= 8};_0xff55x7d= _0xff55x7c- 9;while(_0xff55x7d>= 0){BCandidateMask[_0xff55x82]|= SetMask[_0xff55x80[_0xff55x7d]];WhitePassedMask[_0xff55x82]|= SetMask[_0xff55x80[_0xff55x7d]];_0xff55x7d-= 8}};if(TableFiles[_0xff55x82]< FILES[_0x1b7c[11]]){IsolatedMask[_0xff55x82]|= FileBBMask[TableFiles[_0xff55x82]+ 1];_0xff55x7d= _0xff55x7c+ 9;while(_0xff55x7d< 64){WCandidateMask[_0xff55x82]|= SetMask[_0xff55x80[_0xff55x7d]];BlackPassedMask[_0xff55x82]|= SetMask[_0xff55x80[_0xff55x7d]];_0xff55x7d+= 8};_0xff55x7d= _0xff55x7c- 7;while(_0xff55x7d>= 0){BCandidateMask[_0xff55x82]|= SetMask[_0xff55x80[_0xff55x7d]];WhitePassedMask[_0xff55x82]|= SetMask[_0xff55x80[_0xff55x7d]];_0xff55x7d-= 8}}};for(_0xff55x7c= 0;_0xff55x7c< 120;_0xff55x7c++){var _0xff55x7e=TableRanks[_0xff55x7c];if(_0xff55x7e> RANKS[_0x1b7c[13]]){CandidateMask[_0xff55x7c]|= (WCandidateMask[_0xff55x7c]& RankBBMask[_0xff55x7e- 4])}else {CandidateMask[_0xff55x7c]|= (WCandidateMask[BitFixHigh[_0xff55x7c]]& RankBBMask[_0xff55x7e])}}}function BinaryString(_0xff55x7c){for(var _0xff55x80=0,_0xff55x84=_0xff55x7c,_0xff55x85=_0x1b7c[14];_0xff55x80< 32;_0xff55x80++,_0xff55x85+= String(_0xff55x84>>> 31),_0xff55x84<<= 1){;};return _0xff55x85}function PrintBitBoard(_0xff55x7c,_0xff55x80){var _0xff55x82=_0x1b7c[14];var _0xff55x87=0;console[_0x1b7c[16]](_0x1b7c[15]+ BinaryString(_0xff55x7c));console[_0x1b7c[16]](_0x1b7c[17]+ BinaryString(_0xff55x80));var _0xff55x88=BinaryString(_0xff55x7c);_0xff55x88+= BinaryString(_0xff55x80);_0xff55x88= _0xff55x88[_0x1b7c[18]](_0x1b7c[14]);for(var _0xff55x7f=RANKS[_0x1b7c[9]];_0xff55x7f>= RANKS[_0x1b7c[10]];_0xff55x7f--){_0xff55x82= _0xff55x7f+ _0x1b7c[19];for(var _0xff55x89=FILES[_0x1b7c[12]];_0xff55x89<= FILES[_0x1b7c[11]];_0xff55x89++){if(_0xff55x88[_0xff55x87]== _0x1b7c[20]){_0xff55x82+= _0x1b7c[21]}else {_0xff55x82+= _0x1b7c[22]};_0xff55x87++};console[_0x1b7c[16]](_0xff55x82)}}function PopCount(_0xff55x80){_0xff55x80= _0xff55x80- ((_0xff55x80>> 1)& 0x55555555);_0xff55x80= (_0xff55x80& 0x33333333)+ ((_0xff55x80>> 2)& 0x33333333);return ((_0xff55x80+ (_0xff55x80>> 4)& 0x0F0F0F0F)* 0x01010101)>> 24}function SetBitBoard(_0xff55x7c,_0xff55x80){PawnBitBoard[_0xff55x80| HighSQMask[_0xff55x7c]]|= SetMask[_0xff55x7c]}function ClearBitBoard(_0xff55x7c,_0xff55x80){PawnBitBoard[_0xff55x80| HighSQMask[_0xff55x7c]]&= ClearMask[_0xff55x7c]}function IsOpenFile(_0xff55x7c,_0xff55x80){return ((FileBBMask[_0xff55x7c]& PawnBitBoard[_0xff55x80])| (FileBBMask[_0xff55x7c]& PawnBitBoard[_0xff55x80| 1]))}function IsolatedPawn(_0xff55x7c,_0xff55x80){return ((IsolatedMask[_0xff55x7c]& PawnBitBoard[_0xff55x80])| (IsolatedMask[_0xff55x7c]& PawnBitBoard[_0xff55x80| 1]))}function WhiteCandidatePawn(_0xff55x7c){var _0xff55x80=0;var _0xff55x82=0;var _0xff55x87=_0xff55x7c+ 16;var _0xff55x88=_0xff55x7c- 16;_0xff55x80+= PopCount((BCandidateMask[_0xff55x7c]& PawnBitBoard[BLACK]));_0xff55x80+= PopCount((BCandidateMask[BitFixHigh[_0xff55x7c]]& PawnBitBoard[BLACK| 1]));_0xff55x82+= PopCount((WCandidateMask[BitFixLow[_0xff55x88]]& PawnBitBoard[WHITE]));_0xff55x82+= PopCount((WCandidateMask[_0xff55x88]& PawnBitBoard[WHITE| 1]));if(_0xff55x82>= _0xff55x80){_0xff55x80= PopCount((CandidateMask[_0xff55x88]& PawnBitBoard[BLACK| HighSQMask[_0xff55x88]]));_0xff55x82= PopCount((CandidateMask[_0xff55x87]& PawnBitBoard[WHITE| HighSQMask[_0xff55x87]]));if(_0xff55x82>= _0xff55x80){return true}};return false}function BlackCandidatePawn(_0xff55x7c){var _0xff55x80=0;var _0xff55x82=0;var _0xff55x87=_0xff55x7c- 16;var _0xff55x88=_0xff55x7c+ 16;_0xff55x80+= PopCount((BCandidateMask[_0xff55x88]& PawnBitBoard[BLACK]));_0xff55x80+= PopCount((BCandidateMask[BitFixHigh[_0xff55x88]]& PawnBitBoard[BLACK| 1]));_0xff55x82+= PopCount((WCandidateMask[BitFixLow[_0xff55x7c]]& PawnBitBoard[WHITE]));_0xff55x82+= PopCount((WCandidateMask[_0xff55x7c]& PawnBitBoard[WHITE| 1]));if(_0xff55x80>= _0xff55x82){_0xff55x80= PopCount((CandidateMask[_0xff55x87]& PawnBitBoard[BLACK| HighSQMask[_0xff55x87]]));_0xff55x82= PopCount((CandidateMask[_0xff55x88]& PawnBitBoard[WHITE| HighSQMask[_0xff55x88]]));if(_0xff55x80>= _0xff55x82){return true}};return false}function WhiteBackwardControl(_0xff55x7c,_0xff55x80){var _0xff55x82=_0xff55x7c- 16;var _0xff55x87=_0xff55x7c- 32;if((CHESS_BOARD[_0xff55x82]& 0x07)!== PAWN&& (CandidateMask[_0xff55x82]& PawnBitBoard[WHITE| HighSQMask[_0xff55x82]])!= 0&& ((CandidateMask[_0xff55x82]& PawnBitBoard[BLACK| HighSQMask[_0xff55x82]])| (CandidateMask[_0xff55x87]& PawnBitBoard[BLACK| HighSQMask[_0xff55x87]]))== 0){return false}else {if(_0xff55x80== RANKS[_0x1b7c[23]]&& (CHESS_BOARD[_0xff55x82]& 0x07)!== PAWN&& (CHESS_BOARD[_0xff55x87]& 0x07)!== PAWN&& (CandidateMask[_0xff55x87]& PawnBitBoard[WHITE| 1])!= 0&& ((CandidateMask[_0xff55x87- 16]& PawnBitBoard[BLACK])| (BCandidateMask[BitFixHigh[_0xff55x7c]]& PawnBitBoard[BLACK| 1]))== 0){return false}};return true}function BlackBackwardControl(_0xff55x7c,_0xff55x80){var _0xff55x82=_0xff55x7c+ 16;var _0xff55x87=_0xff55x7c+ 32;if((CHESS_BOARD[_0xff55x82]& 0x07)!== PAWN&& (CandidateMask[_0xff55x82]& PawnBitBoard[BLACK| HighSQMask[_0xff55x82]])!= 0&& ((CandidateMask[_0xff55x82]& PawnBitBoard[WHITE| HighSQMask[_0xff55x82]])| (CandidateMask[_0xff55x87]& PawnBitBoard[WHITE| HighSQMask[_0xff55x87]]))== 0){return false}else {if(_0xff55x80== RANKS[_0x1b7c[24]]&& (CHESS_BOARD[_0xff55x82]& 0x07)!== PAWN&& (CHESS_BOARD[_0xff55x87]& 0x07)!== PAWN&& (CandidateMask[_0xff55x87]& PawnBitBoard[BLACK])!= 0&& ((CandidateMask[_0xff55x87+ 16]& PawnBitBoard[WHITE| 1])| (WCandidateMask[BitFixLow[_0xff55x7c]]& PawnBitBoard[WHITE]))== 0){return false}};return true}function WhiteBackwardPawn(_0xff55x7c){_0xff55x7c= _0xff55x7c- 16;return ((WCandidateMask[BitFixLow[_0xff55x7c]]& PawnBitBoard[WHITE])| (WCandidateMask[_0xff55x7c]& PawnBitBoard[WHITE| 1]))}function BlackBackwardPawn(_0xff55x7c){_0xff55x7c= _0xff55x7c+ 16;return ((BCandidateMask[_0xff55x7c]& PawnBitBoard[BLACK])| (BCandidateMask[BitFixHigh[_0xff55x7c]]& PawnBitBoard[BLACK| 1]))}function WhiteMostPawn(_0xff55x7c){return ((WOpenFileMask[_0xff55x7c]& PawnBitBoard[WHITE])| (WOpenFileMask[BitFixHigh[_0xff55x7c]]& PawnBitBoard[WHITE| 1]))}function BlackMostPawn(_0xff55x7c){return ((BOpenFileMask[BitFixLow[_0xff55x7c]]& PawnBitBoard[BLACK])| (BOpenFileMask[_0xff55x7c]& PawnBitBoard[BLACK| 1]))}function WhiteOpenFile(_0xff55x7c){return ((WOpenFileMask[_0xff55x7c]& PawnBitBoard[BLACK])| (WOpenFileMask[BitFixHigh[_0xff55x7c]]& PawnBitBoard[BLACK| 1]))}function BlackOpenFile(_0xff55x7c){return ((BOpenFileMask[BitFixLow[_0xff55x7c]]& PawnBitBoard[WHITE])| (BOpenFileMask[_0xff55x7c]& PawnBitBoard[WHITE| 1]))}function WhitePassedPawn(_0xff55x7c){return ((WhitePassedMask[_0xff55x7c]& PawnBitBoard[BLACK])| (WhitePassedMask[BitFixHigh[_0xff55x7c]]& PawnBitBoard[BLACK| 1]))}function BlackPassedPawn(_0xff55x7c){return ((BlackPassedMask[BitFixLow[_0xff55x7c]]& PawnBitBoard[WHITE])| (BlackPassedMask[_0xff55x7c]& PawnBitBoard[WHITE| 1]))}function PawnPush(_0xff55x7c){return (CHESS_BOARD[_0xff55x7c]& 0x07)=== PAWN&& (currentPlayer=== WHITE?(TableRanks[_0xff55x7c]<= RANKS[_0x1b7c[25]]&& BlackPassedPawn(_0xff55x7c)== 0):(TableRanks[_0xff55x7c]>= RANKS[_0x1b7c[26]]&& WhitePassedPawn(_0xff55x7c)== 0))}function PawnOnSeventh(){return (currentPlayer=== BLACK?(PawnBitBoard[BLACK| 1]& RankBBMask[RANKS[_0x1b7c[23]]]):(PawnBitBoard[WHITE]& RankBBMask[RANKS[_0x1b7c[24]]]))}function validateMove(_0xff55x7c,_0xff55x80,_0xff55x82){if(isPseudoLegal(_0xff55x7c,_0xff55x80,_0xff55x82)){var _0xff55x87=0;var _0xff55x88=CHESS_BOARD[_0xff55x7c]& 0x07;var _0xff55x7f=0;if(!CHESS_BOARD[_0xff55x80]&& _0xff55x88=== PAWN && EN_PASSANT!= 0 && EN_PASSANT=== _0xff55x80){_0xff55x7f= 1};var _0xff55x89=_0xff55x7f;if(CHESS_BOARD[_0xff55x80]){_0xff55x89= 1};var _0xff55x9e=0;if(_0xff55x88=== KING&& Math[_0x1b7c[27]](_0xff55x7c- _0xff55x80)=== 2){_0xff55x9e= 1};var _0xff55x81=BIT_MOVE(_0xff55x7c,_0xff55x80,_0xff55x89,_0xff55x87,_0xff55x9e);if(makeMove(_0xff55x81)){unMakeMove();MOVE_HISTORY[_0x1b7c[28]](moveCount);return true}else {return false}}else {return false}}function isPseudoLegal(_0xff55x7c,_0xff55x80,_0xff55x82){var _0xff55x87=CHESS_BOARD[_0xff55x7c];var _0xff55x88=CHESS_BOARD[_0xff55x80];if(!_0xff55x87){return false};if(_0xff55x80& 0x88){return false};if((_0xff55x87& 0x8)^ _0xff55x82){return false};if(_0xff55x88&& (_0xff55x88& 0x8)=== _0xff55x82){return false};var _0xff55x7f=_0xff55x87& 0x07;if(_0xff55x7f=== QUEEN){if((Math[_0x1b7c[27]](_0xff55x7c- _0xff55x80)% 15&& Math[_0x1b7c[27]](_0xff55x7c- _0xff55x80)% 17)&& ((_0xff55x7c& 0x0F)!== (_0xff55x80& 0x0F)&& (_0xff55x7c& 0xF0)!== (_0xff55x80& 0xF0))){return false}}else {if(_0xff55x7f=== ROOK){if((_0xff55x7c& 0x0F)!== (_0xff55x80& 0x0F)&& (_0xff55x7c& 0xF0)!== (_0xff55x80& 0xF0)){return false}}else {if(_0xff55x7f=== BISHOP){if(Math[_0x1b7c[27]](_0xff55x7c- _0xff55x80)% 15&& Math[_0x1b7c[27]](_0xff55x7c- _0xff55x80)% 17){return false}}else {if(_0xff55x7f=== KING){var _0xff55x89=Math[_0x1b7c[27]](_0xff55x7c- _0xff55x80);var _0xff55x9e=_0xff55x7c- _0xff55x80> 0?0x0:0x1;if(_0xff55x89=== 1|| _0xff55x89=== 15|| _0xff55x89=== 16|| _0xff55x89=== 17){}else {if(_0xff55x89=== 2){if(_0xff55x9e== 0&& CHESS_BOARD[_0xff55x7c- 3]){return false};if(_0xff55x88|| CHESS_BOARD[(_0xff55x9e?_0xff55x7c+ 1:_0xff55x7c- 1)]){return false};if(((castleRights>> (_0xff55x82/ 4+ _0xff55x9e))& 1)== 0){return false};if(isSquareUnderAttack(_0xff55x7c,_0xff55x82)){return false};if(isSquareUnderAttack(_0xff55x7c+ (_0xff55x9e?1:-1),_0xff55x82)){return false}}else {return false}}}else {if(_0xff55x7f=== KNIGHT){var _0xff55x89=Math[_0x1b7c[27]](_0xff55x7c- _0xff55x80);if(_0xff55x89!== 14&& _0xff55x89!== 18&& _0xff55x89!== 31&& _0xff55x89!== 33){return false}}else {if(_0xff55x7f=== PAWN){var _0xff55x9e=_0xff55x7c- _0xff55x80> 0?0x0:0x8;var _0xff55x89=Math[_0x1b7c[27]](_0xff55x7c- _0xff55x80);var _0xff55x81=_0xff55x7c& 0x70;if(_0xff55x9e!== _0xff55x82){return false};if(_0xff55x89=== 16&&  !_0xff55x88){}else {if(_0xff55x89=== 32&& (_0xff55x81=== 0x60|| _0xff55x81=== 0x10)&&  !_0xff55x88&&  !CHESS_BOARD[_0xff55x7c+ (_0xff55x9e?16:-16)]){}else {if((_0xff55x89=== 15|| _0xff55x89=== 17)&& _0xff55x88){}else {if((_0xff55x89=== 15|| _0xff55x89=== 17)&&  !_0xff55x88&& EN_PASSANT!= 0&& EN_PASSANT=== _0xff55x80){}else {return false}}}}}}}}}};if(_0xff55x87& 0x04){var _0xff55x89=_0xff55x80- _0xff55x7c;var _0xff55xa0;if(_0xff55x89% 17=== 0){_0xff55xa0= 17}else {if(_0xff55x89% 15=== 0){_0xff55xa0= 15}else {if(_0xff55x89% 16=== 0){_0xff55xa0= 16}else {_0xff55xa0= 1}}};var _0xff55xa1=_0xff55x89/ _0xff55xa0;if(_0xff55xa1< 0){_0xff55xa0=  -_0xff55xa0;_0xff55xa1=  -_0xff55xa1};var _0xff55xa2=_0xff55x7c+ _0xff55xa0;for(var _0xff55xa3=1;_0xff55xa3< _0xff55xa1;_0xff55xa3++,_0xff55xa2+= _0xff55xa0){if(CHESS_BOARD[_0xff55xa2]){return false}}};return true}function GetPvLine(_0xff55x7c){var _0xff55x80=0;var _0xff55x82=ProbeHashMove();while(_0xff55x82!= NOMOVE&& _0xff55x80< _0xff55x7c){makeMove(_0xff55x82[_0x1b7c[29]]);brd_PvArray[_0xff55x80++]= _0xff55x82;_0xff55x82= ProbeHashMove()};while(boardPly> 0){unMakeMove()};return _0xff55x80}function StoreHashMove(_0xff55x7c,_0xff55x80,_0xff55x82,_0xff55x87){if(_0xff55x80> ISMATE){_0xff55x80+= boardPly}else {if(_0xff55x80<  -ISMATE){_0xff55x80-= boardPly}};if(brd_HashTable[brd_hashKeyLow& HASHMASK]== null){hashUsed++};brd_HashTable[brd_hashKeyLow& HASHMASK]=  new HashEntry(_0xff55x7c,_0xff55x80,_0xff55x82,_0xff55x87,brd_hashKeyLow,brd_hashKeyHigh)}function HashEntry(_0xff55x7c,_0xff55x80,_0xff55x82,_0xff55x87,_0xff55x88,_0xff55x7f){this[_0x1b7c[29]]= _0xff55x7c;this[_0x1b7c[30]]= _0xff55x82;this[_0x1b7c[31]]= _0xff55x87;this[_0x1b7c[32]]= _0xff55x80;this[_0x1b7c[33]]= _0xff55x88;this[_0x1b7c[34]]= _0xff55x7f}function ProbeHashMove(){var _0xff55x7c=brd_HashTable[brd_hashKeyLow& HASHMASK];if(_0xff55x7c!= null&& _0xff55x7c[_0x1b7c[33]]== brd_hashKeyLow&& _0xff55x7c[_0x1b7c[34]]== brd_hashKeyHigh){return _0xff55x7c};return NOMOVE}function IsRepetition(){if(brd_fiftyMove>= 100){return true};for(var _0xff55x7c=2;_0xff55x7c<= brd_fiftyMove;_0xff55x7c+= 2){if(MOVE_HISTORY[moveCount- _0xff55x7c][_0x1b7c[33]]== brd_hashKeyLow&& MOVE_HISTORY[moveCount- _0xff55x7c][_0x1b7c[34]]== brd_hashKeyHigh){return true}};return false}function FROMSQ(_0xff55xa3){return (_0xff55xa3& 0x7F)}function TOSQ(_0xff55xa3){return ((_0xff55xa3>> 7)& 0x7F)}function PROMOTED(_0xff55xa3){return ((_0xff55xa3>> 15)& 0xF)}function HASH_SIDE(){brd_hashKeyLow^= SideKeyLow;brd_hashKeyHigh^= SideKeyHigh}function HASH_PCE(_0xff55x7c,_0xff55x80){brd_hashKeyLow^= PieceKeysLow[_0xff55x7c][_0xff55x80];brd_hashKeyHigh^= PieceKeysHigh[_0xff55x7c][_0xff55x80]}function HASH_CA(){brd_hashKeyLow^= CastleKeysLow[castleRights];brd_hashKeyHigh^= CastleKeysHigh[castleRights]}function HASH_EP(){brd_hashKeyLow^= PieceKeysLow[0][EN_PASSANT];brd_hashKeyHigh^= PieceKeysHigh[0][EN_PASSANT]}function MOVE_PCE(_0xff55x7c,_0xff55x80,_0xff55x82){CHESS_BOARD[_0xff55x80]= 0;CHESS_BOARD[_0xff55x82]= _0xff55x7c;brd_pieceIndex[_0xff55x82]= brd_pieceIndex[_0xff55x80];brd_pieceList[(_0xff55x7c<< 4)| brd_pieceIndex[_0xff55x82]]= _0xff55x82}function ADDING_PCE(_0xff55x7c,_0xff55x80,_0xff55x82){CHESS_BOARD[_0xff55x80]= _0xff55x7c;brd_pieceIndex[_0xff55x80]= brd_pieceCount[_0xff55x7c];brd_pieceList[(_0xff55x7c<< 4)| brd_pieceIndex[_0xff55x80]]= _0xff55x80;brd_Material[_0xff55x82]+= PieceValue[_0xff55x7c];brd_pieceCount[_0xff55x7c]++;if((_0xff55x7c& 0x07)=== PAWN){SetBitBoard(_0xff55x80,_0xff55x82)}}function DELETE_PCE(_0xff55x7c,_0xff55x80,_0xff55x82){CHESS_BOARD[_0xff55x80]= 0;brd_pieceCount[_0xff55x7c]--;var _0xff55x87=brd_pieceList[(_0xff55x7c<< 4)| brd_pieceCount[_0xff55x7c]];brd_pieceIndex[_0xff55x87]= brd_pieceIndex[_0xff55x80];brd_pieceList[(_0xff55x7c<< 4)| brd_pieceIndex[_0xff55x87]]= _0xff55x87;brd_pieceList[(_0xff55x7c<< 4)| brd_pieceCount[_0xff55x7c]]= 8;brd_Material[_0xff55x82]-= PieceValue[_0xff55x7c];if((_0xff55x7c& 0x07)=== PAWN){ClearBitBoard(_0xff55x80,_0xff55x82)}}function BIT_MOVE(_0xff55x7c,_0xff55x80,_0xff55x82,_0xff55x87,_0xff55x88){return (_0xff55x7c| (_0xff55x80<< 7)| (_0xff55x82<< 14)| (_0xff55x87<< 15)| (_0xff55x88<< 19))}function makeMove(_0xff55x7c){var _0xff55x80=TOSQ(_0xff55x7c);var _0xff55x82=FROMSQ(_0xff55x7c);var _0xff55x87=CHESS_BOARD[_0xff55x82];var _0xff55x88=PROMOTED(_0xff55x7c);var _0xff55x7f=CHESS_BOARD[_0xff55x80];MOVE_HISTORY[moveCount]= {capturedPCE:_0xff55x7f,hashKeyHigh:brd_hashKeyHigh,hashKeyLow:brd_hashKeyLow,fiftyMove:brd_fiftyMove,castleBIT:castleRights,EPsquare:EN_PASSANT,move:_0xff55x7c};brd_fiftyMove++;if(EN_PASSANT!= 0){HASH_EP()};if(_0xff55x7f){brd_fiftyMove= 0;HASH_PCE(_0xff55x7f,_0xff55x80);DELETE_PCE(_0xff55x7f,_0xff55x80,(currentPlayer^ 8))}else {if(_0xff55x7c& CAPTURE_MASK){if(currentPlayer){EN_PASSANT= _0xff55x80- 16;HASH_PCE(WHITE_PAWN,EN_PASSANT);DELETE_PCE(WHITE_PAWN,EN_PASSANT,WHITE)}else {EN_PASSANT= _0xff55x80+ 16;HASH_PCE(BLACK_PAWN,EN_PASSANT);DELETE_PCE(BLACK_PAWN,EN_PASSANT,BLACK)}}else {if(_0xff55x7c& CASTLED_MASK){switch(_0xff55x80){case SQUARES[_0x1b7c[35]]:HASH_PCE(WHITE_ROOK,SQUARES.A1);HASH_PCE(WHITE_ROOK,SQUARES.D1);MOVE_PCE(WHITE_ROOK,SQUARES.A1,SQUARES.D1);break;case SQUARES[_0x1b7c[36]]:HASH_PCE(BLACK_ROOK,SQUARES.A8);HASH_PCE(BLACK_ROOK,SQUARES.D8);MOVE_PCE(BLACK_ROOK,SQUARES.A8,SQUARES.D8);break;case SQUARES[_0x1b7c[37]]:HASH_PCE(WHITE_ROOK,SQUARES.H1);HASH_PCE(WHITE_ROOK,SQUARES.F1);MOVE_PCE(WHITE_ROOK,SQUARES.H1,SQUARES.F1);break;case SQUARES[_0x1b7c[38]]:HASH_PCE(BLACK_ROOK,SQUARES.H8);HASH_PCE(BLACK_ROOK,SQUARES.F8);MOVE_PCE(BLACK_ROOK,SQUARES.H8,SQUARES.F8);break;default:break}}}};EN_PASSANT= 0;if((_0xff55x87& 0x07)=== PAWN){SetBitBoard(_0xff55x80,currentPlayer);ClearBitBoard(_0xff55x82,currentPlayer);brd_fiftyMove= 0;if(Math[_0x1b7c[27]](_0xff55x82- _0xff55x80)=== 32){EN_PASSANT= (_0xff55x80+ (currentPlayer?-16:16));HASH_EP()}};HASH_PCE(_0xff55x87,_0xff55x82);HASH_PCE(_0xff55x87,_0xff55x80);MOVE_PCE(_0xff55x87,_0xff55x82,_0xff55x80);if(_0xff55x88!= 0){HASH_PCE(_0xff55x87,_0xff55x80);HASH_PCE(_0xff55x88,_0xff55x80);DELETE_PCE(_0xff55x87,_0xff55x80,currentPlayer);ADDING_PCE(_0xff55x88,_0xff55x80,currentPlayer)};HASH_CA();castleRights&= CastlePerm[_0xff55x82]& CastlePerm[_0xff55x80];HASH_CA();currentPlayer^= 8;HASH_SIDE();moveCount++;boardPly++;if(isCheck(currentPlayer^ 8)){unMakeMove();return false};return true}function unMakeMove(){moveCount--;boardPly--;var _0xff55x7c=MOVE_HISTORY[moveCount][_0x1b7c[29]];EN_PASSANT= MOVE_HISTORY[moveCount][_0x1b7c[39]];castleRights= MOVE_HISTORY[moveCount][_0x1b7c[40]];brd_fiftyMove= MOVE_HISTORY[moveCount][_0x1b7c[41]];brd_hashKeyLow= MOVE_HISTORY[moveCount][_0x1b7c[33]];brd_hashKeyHigh= MOVE_HISTORY[moveCount][_0x1b7c[34]];var _0xff55x80=MOVE_HISTORY[moveCount][_0x1b7c[42]];var _0xff55x82=TOSQ(_0xff55x7c);var _0xff55x87=FROMSQ(_0xff55x7c);var _0xff55x88=CHESS_BOARD[_0xff55x82];var _0xff55x7f=PROMOTED(_0xff55x7c);MOVE_PCE(_0xff55x88,_0xff55x82,_0xff55x87);if(_0xff55x80){ADDING_PCE(_0xff55x80,_0xff55x82,currentPlayer)}else {if(_0xff55x7c& CAPTURE_MASK){if(currentPlayer){ADDING_PCE(BLACK_PAWN,(EN_PASSANT+ 16),currentPlayer)}else {ADDING_PCE(WHITE_PAWN,(EN_PASSANT- 16),currentPlayer)}}else {if(_0xff55x7c& CASTLED_MASK){switch(_0xff55x82){case SQUARES[_0x1b7c[35]]:MOVE_PCE(WHITE_ROOK,SQUARES.D1,SQUARES.A1);break;case SQUARES[_0x1b7c[36]]:MOVE_PCE(BLACK_ROOK,SQUARES.D8,SQUARES.A8);break;case SQUARES[_0x1b7c[37]]:MOVE_PCE(WHITE_ROOK,SQUARES.F1,SQUARES.H1);break;case SQUARES[_0x1b7c[38]]:MOVE_PCE(BLACK_ROOK,SQUARES.F8,SQUARES.H8);break;default:break}}}};currentPlayer^= 8;if((_0xff55x88& 0x07)=== PAWN){SetBitBoard(_0xff55x87,currentPlayer);ClearBitBoard(_0xff55x82,currentPlayer)};if(_0xff55x7f!= 0){DELETE_PCE(_0xff55x7f,_0xff55x87,currentPlayer);ADDING_PCE((currentPlayer| PAWN),_0xff55x87,currentPlayer)};return true}function isMate(_0xff55x7c){return _0xff55x7c>= ISMATE|| _0xff55x7c<=  -ISMATE}function isCheck(_0xff55x7c){return isSquareUnderAttack(brd_pieceList[(_0xff55x7c| KING)<< 4],_0xff55x7c)}function isSquareUnderAttack(_0xff55x7c,_0xff55x80){var _0xff55x82=0;var _0xff55x87=_0xff55x80^ 8;var _0xff55x88=0;if(_0xff55x80=== WHITE){if(CHESS_BOARD[(_0xff55x7c- 15)]=== BLACK_PAWN|| CHESS_BOARD[(_0xff55x7c- 17)]=== BLACK_PAWN){return 1}}else {if(CHESS_BOARD[(_0xff55x7c+ 15)]=== WHITE_PAWN|| CHESS_BOARD[(_0xff55x7c+ 17)]=== WHITE_PAWN){return 1}};for(_0xff55x88= 0;_0xff55x88< 8;_0xff55x88++){_0xff55x82= (_0xff55x7c+ KnightMoves[_0xff55x88]);if(!(_0xff55x82& 0x88)&& CHESS_BOARD[_0xff55x82]=== (_0xff55x87| KNIGHT)){return 1}};for(_0xff55x88= 0;_0xff55x88< 4;_0xff55x88++){_0xff55x82= (_0xff55x7c+ BishopMoves[_0xff55x88]);while(!(_0xff55x82& 0x88)){if(CHESS_BOARD[_0xff55x82]){if(CHESS_BOARD[_0xff55x82]=== (_0xff55x87| QUEEN)|| CHESS_BOARD[_0xff55x82]=== (_0xff55x87| BISHOP)){return 1};break};_0xff55x82+= BishopMoves[_0xff55x88]}};for(_0xff55x88= 0;_0xff55x88< 4;_0xff55x88++){_0xff55x82= (_0xff55x7c+ RookMoves[_0xff55x88]);while(!(_0xff55x82& 0x88)){if(CHESS_BOARD[_0xff55x82]){if(CHESS_BOARD[_0xff55x82]=== (_0xff55x87| QUEEN)|| CHESS_BOARD[_0xff55x82]=== (_0xff55x87| ROOK)){return 1};break};_0xff55x82+= RookMoves[_0xff55x88]}};for(_0xff55x88= 0;_0xff55x88< 8;_0xff55x88++){_0xff55x82= (_0xff55x7c+ KingMoves[_0xff55x88]);if(!(_0xff55x82& 0x88)&& CHESS_BOARD[_0xff55x82]=== (_0xff55x87| KING)){return 1}};return NOT_IN_CHECK}function InitEvalTable(){if(WKING_ZONE[1]!= undefined){return false};for(var _0xff55x81=0;_0xff55x81< 120;_0xff55x81++){DISTANCE[_0xff55x81]=  new Array(120);var _0xff55x7c=TableRanks[_0xff55x81];var _0xff55x80=TableFiles[_0xff55x81];for(var _0xff55xa0=0;_0xff55xa0< 120;_0xff55xa0++){var _0xff55x82=TableRanks[_0xff55xa0];var _0xff55x87=TableFiles[_0xff55xa0];DISTANCE[_0xff55x81][_0xff55xa0]= Math[_0x1b7c[43]](Math[_0x1b7c[27]](_0xff55x7c- _0xff55x82),Math[_0x1b7c[27]](_0xff55x80- _0xff55x87))}};for(var _0xff55x88=0;_0xff55x88< 120;_0xff55x88++){WKING_ZONE[_0xff55x88]=  new Array(120);BKING_ZONE[_0xff55x88]=  new Array(120);for(var _0xff55xa0=0;_0xff55xa0< 120;_0xff55xa0++){WKING_ZONE[_0xff55x88][_0xff55xa0]= 0;BKING_ZONE[_0xff55x88][_0xff55xa0]= 0;if(!((_0xff55x88- 1)& 0x88)){WKING_ZONE[_0xff55x88][_0xff55x88- 1]= 1;BKING_ZONE[_0xff55x88][_0xff55x88- 1]= 1};if(!((_0xff55x88+ 1)& 0x88)){WKING_ZONE[_0xff55x88][_0xff55x88+ 1]= 1;BKING_ZONE[_0xff55x88][_0xff55x88+ 1]= 1};if(!((_0xff55x88- 16)& 0x88)){WKING_ZONE[_0xff55x88][_0xff55x88- 16]= 1;BKING_ZONE[_0xff55x88][_0xff55x88- 16]= 1};if(!((_0xff55x88+ 16)& 0x88)){WKING_ZONE[_0xff55x88][_0xff55x88+ 16]= 1;BKING_ZONE[_0xff55x88][_0xff55x88+ 16]= 1};if(!((_0xff55x88- 15)& 0x88)){WKING_ZONE[_0xff55x88][_0xff55x88- 15]= 1;BKING_ZONE[_0xff55x88][_0xff55x88- 15]= 1};if(!((_0xff55x88+ 15)& 0x88)){WKING_ZONE[_0xff55x88][_0xff55x88+ 15]= 1;BKING_ZONE[_0xff55x88][_0xff55x88+ 15]= 1};if(!((_0xff55x88- 17)& 0x88)){WKING_ZONE[_0xff55x88][_0xff55x88- 17]= 1;BKING_ZONE[_0xff55x88][_0xff55x88- 17]= 1};if(!((_0xff55x88+ 17)& 0x88)){WKING_ZONE[_0xff55x88][_0xff55x88+ 17]= 1;BKING_ZONE[_0xff55x88][_0xff55x88+ 17]= 1}}};for(var _0xff55x81=0;_0xff55x81< 256;_0xff55x81++){brd_vectorDelta[_0xff55x81]=  new Object();brd_vectorDelta[_0xff55x81][_0x1b7c[44]]= 0;brd_vectorDelta[_0xff55x81][_0x1b7c[45]]=  new Array(8);brd_vectorDelta[_0xff55x81][_0x1b7c[45]][WHITE]= 0;brd_vectorDelta[_0xff55x81][_0x1b7c[45]][BLACK]= 0};for(var _0xff55x7f=0;_0xff55x7f< 120;_0xff55x7f++){var _0xff55x88=_0xff55x7f- (_0xff55x7f- 17)+ 128;brd_vectorDelta[_0xff55x88][_0x1b7c[45]][WHITE]|= (1<< PAWN);_0xff55x88= _0xff55x7f- (_0xff55x7f- 15)+ 128;brd_vectorDelta[_0xff55x88][_0x1b7c[45]][WHITE]|= (1<< PAWN);_0xff55x88= _0xff55x7f- (_0xff55x7f+ 17)+ 128;brd_vectorDelta[_0xff55x88][_0x1b7c[45]][BLACK]|= (1<< PAWN);_0xff55x88= _0xff55x7f- (_0xff55x7f+ 15)+ 128;brd_vectorDelta[_0xff55x88][_0x1b7c[45]][BLACK]|= (1<< PAWN);for(var _0xff55x81=KNIGHT;_0xff55x81<= QUEEN;_0xff55x81++){if(_0xff55x81== 4){continue};for(var _0xff55x89=0;_0xff55x89< PieceDir[_0xff55x81][_0x1b7c[46]];_0xff55x89++){var _0xff55x9e=_0xff55x7f+ PieceDir[_0xff55x81][_0xff55x89];while(!(_0xff55x9e& 0x88)){_0xff55x88= _0xff55x7f- _0xff55x9e+ 128;brd_vectorDelta[_0xff55x88][_0x1b7c[45]][WHITE]|= (1<< _0xff55x81);brd_vectorDelta[_0xff55x88][_0x1b7c[45]][BLACK]|= (1<< _0xff55x81);var _0xff55xa1=-1;if(_0xff55x7f< _0xff55x9e){_0xff55xa1= 1};if(TableRanks[_0xff55x7f]== TableRanks[_0xff55x9e]){brd_vectorDelta[_0xff55x88][_0x1b7c[44]]= _0xff55xa1* 1}else {if(TableFiles[_0xff55x7f]== TableFiles[_0xff55x9e]){brd_vectorDelta[_0xff55x88][_0x1b7c[44]]= _0xff55xa1* 16}else {if((_0xff55x7f% 15)== (_0xff55x9e% 15)){brd_vectorDelta[_0xff55x88][_0x1b7c[44]]= _0xff55xa1* 15}else {if((_0xff55x7f% 17)== (_0xff55x9e% 17)){brd_vectorDelta[_0xff55x88][_0x1b7c[44]]= _0xff55xa1* 17}}}};if(_0xff55x81== KNIGHT){brd_vectorDelta[_0xff55x88][_0x1b7c[44]]= PieceDir[_0xff55x81][_0xff55x89];break};if(_0xff55x81== KING){break};_0xff55x9e+= PieceDir[_0xff55x81][_0xff55x89]}}}}}function Evaluation(){var _0xff55x7c=0;var _0xff55x80=0;var _0xff55x82=0;var _0xff55x87=0;var _0xff55x88=0;var _0xff55x7f=24;var _0xff55x89=0;var _0xff55x9e=0;var _0xff55x81=1;var _0xff55xa0=0;var _0xff55xa1=0;var _0xff55xa2=0;var _0xff55xa3=0;var _0xff55xbb=0;var _0xff55xbc=0;var _0xff55xbd=0;var _0xff55xbe=0;var _0xff55x7e=0;var _0xff55xbf=0;var _0xff55xc0=brd_pieceCount[WHITE_QUEEN];var _0xff55xc1=brd_pieceCount[WHITE_ROOK];var _0xff55xc2=brd_pieceCount[WHITE_BISHOP];var _0xff55xc3=brd_pieceCount[WHITE_KNIGHT];var _0xff55xc4=brd_pieceCount[WHITE_PAWN];var _0xff55xc5=brd_pieceCount[BLACK_QUEEN];var _0xff55xc6=brd_pieceCount[BLACK_ROOK];var _0xff55xc7=brd_pieceCount[BLACK_BISHOP];var _0xff55xc8=brd_pieceCount[BLACK_KNIGHT];var _0xff55xc9=brd_pieceCount[BLACK_PAWN];if(_0xff55xc4== 0&& _0xff55xc9== 0){if(_0xff55xc0== 0&& _0xff55xc5== 0){if(_0xff55xc1== 0&& _0xff55xc6== 0){if(_0xff55xc2== 0&& _0xff55xc7== 0){if(_0xff55xc3< 3&& _0xff55xc8< 3){return 0}}else {if(_0xff55xc3== 0&& _0xff55xc8== 0){if(Math[_0x1b7c[27]](_0xff55xc2- _0xff55xc7)< 2){return 0}}else {if((_0xff55xc3< 3&& _0xff55xc2== 0)|| (_0xff55xc3== 0&& _0xff55xc2== 1)){if((_0xff55xc8< 3&& _0xff55xc7== 0)|| (_0xff55xc8== 0&& _0xff55xc7== 1)){return 0}}}}}else {if(_0xff55xc1== 1&& _0xff55xc6== 1){if((_0xff55xc3+ _0xff55xc2)== 0&& (_0xff55xc8+ _0xff55xc7)== 0){return 0}else {if((_0xff55xc3+ _0xff55xc2)< 2&& (_0xff55xc8+ _0xff55xc7)< 2){_0xff55x81= 10}}}else {if(_0xff55xc1== 1&& _0xff55xc6== 0){if((_0xff55xc3+ _0xff55xc2)== 0&& ((_0xff55xc8+ _0xff55xc7)== 1|| (_0xff55xc8+ _0xff55xc7)== 2)){_0xff55x81= 4}}else {if(_0xff55xc1== 0&& _0xff55xc6== 1){if((_0xff55xc8+ _0xff55xc7)== 0&& ((_0xff55xc3+ _0xff55xc2)== 1|| (_0xff55xc3+ _0xff55xc2)== 2)){_0xff55x81= 4}}}}}}};var _0xff55xca=0;var _0xff55xcb=0;var _0xff55xcc=0;var _0xff55xcd=0;var _0xff55xce=0;var _0xff55xcf=0;var _0xff55xd0=0;var _0xff55xd1=0;var _0xff55xd2=0;var _0xff55xd3=0;var _0xff55xd4=0;var _0xff55xd5=0;var _0xff55xd6=0;var _0xff55xd7=0;var _0xff55xd8=0;var _0xff55xd9=0;var _0xff55xda=0;var _0xff55xdb=0;for(var _0xff55xdc=0;_0xff55xdc< 10;_0xff55xdc++){PawnRanksWhite[_0xff55xdc]= RANKS[_0x1b7c[9]];PawnRanksBlack[_0xff55xdc]= RANKS[_0x1b7c[10]]};var _0xff55xdd=PawnBitBoard[BLACK]& RankBBMask[RANKS[_0x1b7c[24]]];var _0xff55xde=PawnBitBoard[WHITE| 1]& RankBBMask[RANKS[_0x1b7c[23]]];var _0xff55xdf=(_0xff55xc3|| _0xff55xc2|| _0xff55xc1|| _0xff55xc0);var _0xff55xe0=(_0xff55xc8|| _0xff55xc7|| _0xff55xc6|| _0xff55xc5);var _0xff55xe1=_0xff55xc0&& (_0xff55xc3|| _0xff55xc2|| _0xff55xc1|| _0xff55xc0>= 2);var _0xff55xe2=_0xff55xc5&& (_0xff55xc8|| _0xff55xc7|| _0xff55xc6|| _0xff55xc5>= 2);var _0xff55xe3=brd_pieceList[WHITE_KING<< 4];var _0xff55xe4=TableRanks[_0xff55xe3];var _0xff55xe5=TableFiles[_0xff55xe3];var _0xff55xe6=WKING_ZONE[_0xff55xe3];_0xff55xa1+= KingMask[_0xff55xe3];_0xff55xa3+= KingEndMask[_0xff55xe3];var _0xff55xe7=brd_pieceList[BLACK_KING<< 4];var _0xff55xe8=TableRanks[_0xff55xe7];var _0xff55xe9=TableFiles[_0xff55xe7];var _0xff55xea=BKING_ZONE[_0xff55xe7];_0xff55xa2+= KingMask[TableMirror[_0xff55xe7]];_0xff55xbb+= KingEndMask[TableMirror[_0xff55xe7]];_0xff55xa0= WHITE_QUEEN<< 4;_0xff55x87= brd_pieceList[_0xff55xa0++];while(_0xff55x87!= 8){_0xff55x82= TableRanks[_0xff55x87];if(_0xff55x82== RANKS[_0x1b7c[24]]&& (_0xff55xdd|| _0xff55xe8== RANKS[_0x1b7c[9]])){_0xff55xd4+= 10;_0xff55xd5+= 20};_0xff55x9e= 0;_0xff55x80=  -13;_0xff55x7c= _0xff55x87+ 1;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c+= 1};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87- 1;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c-= 1};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 16;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c+= 16};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87- 16;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c-= 16};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 15;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c+= 15};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87- 15;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c-= 15};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 17;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c+= 17};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87- 17;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c-= 17};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};if(_0xff55x9e!= 0){_0xff55x7e++;_0xff55xbd+= 4};_0xff55x7f-= 4;_0xff55xca+= 1* _0xff55x80;_0xff55xcb+= 2* _0xff55x80;_0xff55xa1+= QueenMask[_0xff55x87];_0xff55xa3+= QueenEndMask[_0xff55x87];_0xff55x87= brd_pieceList[_0xff55xa0++]};_0xff55xa0= BLACK_QUEEN<< 4;_0xff55x87= brd_pieceList[_0xff55xa0++];while(_0xff55x87!= 8){_0xff55x82= TableRanks[_0xff55x87];if(_0xff55x82== RANKS[_0x1b7c[23]]&& (_0xff55xde|| _0xff55xe4== RANKS[_0x1b7c[10]])){_0xff55xd4-= 10;_0xff55xd5-= 20};_0xff55x9e= 0;_0xff55x80=  -13;_0xff55x7c= _0xff55x87+ 1;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c+= 1};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87- 1;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c-= 1};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 16;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c+= 16};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87- 16;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c-= 16};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 15;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c+= 15};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87- 15;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c-= 15};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 17;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c+= 17};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87- 17;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c-= 17};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};if(_0xff55x9e!= 0){_0xff55xbf++;_0xff55xbe+= 4};_0xff55x7f-= 4;_0xff55xca-= 1* _0xff55x80;_0xff55xcb-= 2* _0xff55x80;_0xff55xa2+= QueenMask[TableMirror[_0xff55x87]];_0xff55xbb+= QueenEndMask[TableMirror[_0xff55x87]];_0xff55x87= brd_pieceList[_0xff55xa0++]};_0xff55xa0= WHITE_ROOK<< 4;_0xff55x87= brd_pieceList[_0xff55xa0++];while(_0xff55x87!= 8){_0xff55x82= TableRanks[_0xff55x87];_0xff55x88= TableFiles[_0xff55x87];_0xff55xd0-= 10;_0xff55xd1-= 10;if(IsOpenFile(_0xff55x88,WHITE)== 0){if(IsOpenFile(_0xff55x88,BLACK)== 0){_0xff55xd0+= 20;_0xff55xd1+= 20}else {_0xff55xd0+= 10;_0xff55xd1+= 10};if(_0xff55xe1){if(_0xff55x88== _0xff55xe9){_0xff55xd0+= 10};if(Math[_0x1b7c[27]](_0xff55x88- _0xff55xe9)<= 1){_0xff55xd0+= 10}}};if(_0xff55x82== RANKS[_0x1b7c[24]]&& (_0xff55xdd|| _0xff55xe8== RANKS[_0x1b7c[9]])){_0xff55xd0+= 20;_0xff55xd1+= 40};_0xff55x9e= 0;_0xff55x80=  -7;_0xff55x7c= _0xff55x87+ 1;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c+= 1};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87- 1;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c-= 1};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 16;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c+= 16};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87- 16;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c-= 16};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};if(_0xff55x9e!= 0){_0xff55x7e++;_0xff55xbd+= 2};_0xff55x7f-= 2;_0xff55xca+= 2* _0xff55x80;_0xff55xcb+= 4* _0xff55x80;_0xff55xa1+= RookMask[_0xff55x87];_0xff55x87= brd_pieceList[_0xff55xa0++]};_0xff55xa0= BLACK_ROOK<< 4;_0xff55x87= brd_pieceList[_0xff55xa0++];while(_0xff55x87!= 8){_0xff55x82= TableRanks[_0xff55x87];_0xff55x88= TableFiles[_0xff55x87];_0xff55xd0+= 10;_0xff55xd1+= 10;if(IsOpenFile(_0xff55x88,BLACK)== 0){if(IsOpenFile(_0xff55x88,WHITE)== 0){_0xff55xd0-= 20;_0xff55xd1-= 20}else {_0xff55xd0-= 10;_0xff55xd1-= 10};if(_0xff55xe2){if(_0xff55x88== _0xff55xe5){_0xff55xd0-= 10};if(Math[_0x1b7c[27]](_0xff55x88- _0xff55xe5)<= 1){_0xff55xd0-= 10}}};if(_0xff55x82== RANKS[_0x1b7c[23]]&& (_0xff55xde|| _0xff55xe4== RANKS[_0x1b7c[10]])){_0xff55xd0-= 20;_0xff55xd1-= 40};_0xff55x9e= 0;_0xff55x80=  -7;_0xff55x7c= _0xff55x87+ 1;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c+= 1};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87- 1;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c-= 1};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 16;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c+= 16};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87- 16;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c-= 16};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};if(_0xff55x9e!= 0){_0xff55xbf++;_0xff55xbe+= 2};_0xff55x7f-= 2;_0xff55xca-= 2* _0xff55x80;_0xff55xcb-= 4* _0xff55x80;_0xff55xa2+= RookMask[TableMirror[_0xff55x87]];_0xff55x87= brd_pieceList[_0xff55xa0++]};_0xff55xa0= WHITE_BISHOP<< 4;_0xff55x87= brd_pieceList[_0xff55xa0++];while(_0xff55x87!= 8){_0xff55x9e= 0;_0xff55x80=  -6;_0xff55x7c= _0xff55x87+ 15;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c+= 15};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87- 15;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c-= 15};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 17;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c+= 17};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87- 17;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xea[_0xff55x7c];_0xff55x7c-= 17};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};if(_0xff55x9e!= 0){_0xff55x7e++;_0xff55xbd+= 1};_0xff55x7f-= 1;_0xff55xca+= 5* _0xff55x80;_0xff55xcb+= 5* _0xff55x80;_0xff55xa1+= BishopMask[_0xff55x87];_0xff55xa3+= BishopEndMask[_0xff55x87];_0xff55x87= brd_pieceList[_0xff55xa0++]};_0xff55xa0= BLACK_BISHOP<< 4;_0xff55x87= brd_pieceList[_0xff55xa0++];while(_0xff55x87!= 8){_0xff55x9e= 0;_0xff55x80=  -6;_0xff55x7c= _0xff55x87+ 15;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c+= 15};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87- 15;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c-= 15};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 17;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c+= 17};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87- 17;while(!(_0xff55x7c& 0x88)&&  !CHESS_BOARD[_0xff55x7c]){_0xff55x80++;_0xff55x9e+= _0xff55xe6[_0xff55x7c];_0xff55x7c-= 17};if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};if(_0xff55x9e!= 0){_0xff55xbf++;_0xff55xbe+= 1};_0xff55x7f-= 1;_0xff55xca-= 5* _0xff55x80;_0xff55xcb-= 5* _0xff55x80;_0xff55xa2+= BishopMask[TableMirror[_0xff55x87]];_0xff55xbb+= BishopEndMask[TableMirror[_0xff55x87]];_0xff55x87= brd_pieceList[_0xff55xa0++]};_0xff55xa0= WHITE_KNIGHT<< 4;_0xff55x87= brd_pieceList[_0xff55xa0++];while(_0xff55x87!= 8){_0xff55x9e= 0;_0xff55x80=  -4;_0xff55x7c= _0xff55x87+ 14;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87- 14;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 18;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87- 18;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 31;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87- 31;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 33;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};_0xff55x7c= _0xff55x87- 33;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_W[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xea[_0xff55x7c]};if(_0xff55x9e!= 0){_0xff55x7e++;_0xff55xbd+= 1};_0xff55x7f-= 1;_0xff55xca+= 4* _0xff55x80;_0xff55xcb+= 4* _0xff55x80;_0xff55xa1+= KnightMask[_0xff55x87];_0xff55xa3+= KnightEndMask[_0xff55x87];var _0xff55xeb=KnightOutpost[_0xff55x87];if(_0xff55xeb&& CHESS_BOARD[_0xff55x87- 15]!= BLACK_PAWN&& CHESS_BOARD[_0xff55x87- 17]!= BLACK_PAWN){if(CHESS_BOARD[_0xff55x87+ 15]== WHITE_PAWN){_0xff55xd6+= _0xff55xeb};if(CHESS_BOARD[_0xff55x87+ 17]== WHITE_PAWN){_0xff55xd6+= _0xff55xeb}};_0xff55x87= brd_pieceList[_0xff55xa0++]};_0xff55xa0= BLACK_KNIGHT<< 4;_0xff55x87= brd_pieceList[_0xff55xa0++];while(_0xff55x87!= 8){_0xff55x9e= 0;_0xff55x80=  -4;_0xff55x7c= _0xff55x87+ 14;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87- 14;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 18;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87- 18;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 31;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87- 31;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87+ 33;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};_0xff55x7c= _0xff55x87- 33;if(!(_0xff55x7c& 0x88)){_0xff55x80+= MOB_B[CHESS_BOARD[_0xff55x7c]];_0xff55x9e+= _0xff55xe6[_0xff55x7c]};if(_0xff55x9e!= 0){_0xff55xbf++;_0xff55xbe+= 1};_0xff55x7f-= 1;_0xff55xca-= 4* _0xff55x80;_0xff55xcb-= 4* _0xff55x80;_0xff55xa2+= KnightMask[TableMirror[_0xff55x87]];_0xff55xbb+= KnightEndMask[TableMirror[_0xff55x87]];var _0xff55xeb=KnightOutpost[TableMirror[_0xff55x87]];if(_0xff55xeb&& CHESS_BOARD[_0xff55x87+ 15]!= WHITE_PAWN&& CHESS_BOARD[_0xff55x87+ 17]!= WHITE_PAWN){if(CHESS_BOARD[_0xff55x87- 15]== BLACK_PAWN){_0xff55xd6-= _0xff55xeb};if(CHESS_BOARD[_0xff55x87- 17]== BLACK_PAWN){_0xff55xd6-= _0xff55xeb}};_0xff55x87= brd_pieceList[_0xff55xa0++]};_0xff55xa0= WHITE_PAWN<< 4;_0xff55x87= brd_pieceList[_0xff55xa0++];while(_0xff55x87!= 8){_0xff55x89= 0;_0xff55x82= TableRanks[_0xff55x87];_0xff55x88= TableFiles[_0xff55x87];if(BlackOpenFile(_0xff55x87)!= 0){_0xff55xd2+= PawnDoubled;_0xff55xd3+= 2* PawnDoubled};if(PawnRanksWhite[_0xff55x88]> _0xff55x82){PawnRanksWhite[_0xff55x88]= _0xff55x82};if(WhiteOpenFile(_0xff55x87)== 0&& WhiteMostPawn(_0xff55x87)== 0){_0xff55x89= 1};if(IsolatedPawn(_0xff55x87,WHITE)== 0){_0xff55xd2+= PawnIsolated+ PawnIsolated* _0xff55x89;_0xff55xd3+= 2* PawnIsolated}else {if(WhiteBackwardPawn(_0xff55x87)== 0&& WhiteBackwardControl(_0xff55x87,_0xff55x82)){_0xff55xd2+= PawnBackward+ PawnBackward* _0xff55x89;_0xff55xd3+= PawnBackward- 2}};if(_0xff55x89){if(WhitePassedPawn(_0xff55x87)== 0){_0xff55xd2+= 10+ 60* PawnPassed[_0xff55x82];_0xff55xbc= 120;_0xff55xbc-= 5* DISTANCE[_0xff55xe3][_0xff55x87- 16];_0xff55xbc+= 20* DISTANCE[_0xff55xe7][_0xff55x87- 16];if(!_0xff55xe0){if(DISTANCE[_0xff55xe3][_0xff55x87]<= 1&& DISTANCE[_0xff55xe3][_0xff55x88- 1]<= 1&& (_0xff55xe5!= _0xff55x88|| (_0xff55x88!= FILES[_0x1b7c[12]]&& _0xff55x88!= FILES[_0x1b7c[11]]))){_0xff55xbc+= 800}else {if((_0xff55xe4<= _0xff55x82|| _0xff55xe5!= _0xff55x88)&& _0xff55xc9== 0&& DISTANCE[_0xff55x87][_0xff55x88- 1]< DISTANCE[_0xff55xe7][_0xff55x88- 1]+ ((currentPlayer== WHITE)| 0)- 1){_0xff55xbc+= 800}}};if(CHESS_BOARD[_0xff55x87- 16]== 0&& _0xff55x82>= RANKS[_0x1b7c[13]]&& See(BIT_MOVE(_0xff55x87,_0xff55x87- 16,0,0,0))){_0xff55xbc+= 60};_0xff55xd3+= 20+ (_0xff55xbc* PawnPassed[_0xff55x82])| 0}else {if(WhiteCandidatePawn(_0xff55x87)){_0xff55xd2+= 5+ 50* PawnPassed[_0xff55x82];_0xff55xd3+= 10+ 100* PawnPassed[_0xff55x82]}}};_0xff55xa1+= PawnMask[_0xff55x87];_0xff55x87= brd_pieceList[_0xff55xa0++]};_0xff55xa0= BLACK_PAWN<< 4;_0xff55x87= brd_pieceList[_0xff55xa0++];while(_0xff55x87!= 8){_0xff55x89= 0;_0xff55x82= TableRanks[_0xff55x87];_0xff55x88= TableFiles[_0xff55x87];if(WhiteOpenFile(_0xff55x87)!= 0){_0xff55xd2-= PawnDoubled;_0xff55xd3-= 2* PawnDoubled};if(PawnRanksBlack[_0xff55x88]< _0xff55x82){PawnRanksBlack[_0xff55x88]= _0xff55x82};if(BlackOpenFile(_0xff55x87)== 0&& BlackMostPawn(_0xff55x87)== 0){_0xff55x89= 1};if(IsolatedPawn(_0xff55x87,BLACK)== 0){_0xff55xd2-= PawnIsolated+ PawnIsolated* _0xff55x89;_0xff55xd3-= 2* PawnIsolated}else {if(BlackBackwardPawn(_0xff55x87)== 0&& BlackBackwardControl(_0xff55x87,_0xff55x82)){_0xff55xd2-= PawnBackward+ PawnBackward* _0xff55x89;_0xff55xd3-= PawnBackward- 2}};if(_0xff55x89){if(BlackPassedPawn(_0xff55x87)== 0){_0xff55xd2-= 10+ 60* PawnPassed[9- _0xff55x82];_0xff55xbc= 120;_0xff55xbc-= 5* DISTANCE[_0xff55xe7][_0xff55x87+ 16];_0xff55xbc+= 20* DISTANCE[_0xff55xe3][_0xff55x87+ 16];if(!_0xff55xdf){if(DISTANCE[_0xff55xe7][_0xff55x87]<= 1&& DISTANCE[_0xff55xe7][_0xff55x88+ 111]<= 1&& (_0xff55xe9!= _0xff55x88|| (_0xff55x88!= FILES[_0x1b7c[12]]&& _0xff55x88!= FILES[_0x1b7c[11]]))){_0xff55xbc+= 800}else {if((_0xff55xe8>= _0xff55x82|| _0xff55xe9!= _0xff55x88)&& _0xff55xc4== 0&& DISTANCE[_0xff55x87][_0xff55x88+ 111]< DISTANCE[_0xff55xe3][_0xff55x88+ 111]+ ((currentPlayer== BLACK)| 0)- 1){_0xff55xbc+= 800}}};if(CHESS_BOARD[_0xff55x87+ 16]== 0&& _0xff55x82<= RANKS[_0x1b7c[47]]&& See(BIT_MOVE(_0xff55x87,_0xff55x87+ 16,0,0,0))){_0xff55xbc+= 60};_0xff55xd3-= 20+ (_0xff55xbc* PawnPassed[9- _0xff55x82])| 0}else {if(BlackCandidatePawn(_0xff55x87)){_0xff55xd2-= 5+ 50* PawnPassed[9- _0xff55x82];_0xff55xd3-= 10+ 100* PawnPassed[9- _0xff55x82]}}};_0xff55xa2+= PawnMask[TableMirror[_0xff55x87]];_0xff55x87= brd_pieceList[_0xff55xa0++]};if(_0xff55xe1){_0xff55x7e= Math[_0x1b7c[48]](_0xff55x7e,7);_0xff55xcc+= (20* _0xff55xbd* AttackWeight[_0xff55x7e])| 0;var _0xff55xec=0;var _0xff55xed=0;var _0xff55xee=0;_0xff55xee= PawnRanksBlack[_0xff55xe9]- 1;_0xff55xed+= PawnShelter[_0xff55xee];_0xff55xec+= WhitePawnStorm(_0xff55xe9);if(_0xff55xe9!= FILES[_0x1b7c[12]]){_0xff55xee= PawnRanksBlack[_0xff55xe9- 1]- 1;_0xff55xed+= PawnShelter[_0xff55xee]/ 2;_0xff55xec+= WhitePawnStorm(_0xff55xe9- 1)};if(_0xff55xe9!= FILES[_0x1b7c[11]]){_0xff55xee= PawnRanksBlack[_0xff55xe9+ 1]- 1;_0xff55xed+= PawnShelter[_0xff55xee]/ 2;_0xff55xec+= WhitePawnStorm(_0xff55xe9+ 1)};if(_0xff55xed== 0){_0xff55xed= 11};_0xff55xed+= _0xff55xec;var _0xff55xef=_0xff55xed;if(castleRights& CASTLEBIT[_0x1b7c[49]]){_0xff55xee= PawnRanksBlack[FILES[_0x1b7c[50]]]- 1;var _0xff55xf0=PawnShelter[_0xff55xee];_0xff55xec= WhitePawnStorm(FILES.FILE_G);_0xff55xee= PawnRanksBlack[FILES[_0x1b7c[51]]]- 1;_0xff55xf0+= PawnShelter[_0xff55xee]/ 2;_0xff55xec+= WhitePawnStorm(FILES.FILE_F);_0xff55xee= PawnRanksBlack[FILES[_0x1b7c[11]]]- 1;_0xff55xf0+= PawnShelter[_0xff55xee]/ 2;_0xff55xec+= WhitePawnStorm(FILES.FILE_H);if(_0xff55xf0== 0){_0xff55xf0= 11};_0xff55xf0+= _0xff55xec;if(_0xff55xf0< _0xff55xef){_0xff55xef= _0xff55xf0}};if(castleRights& CASTLEBIT[_0x1b7c[52]]){_0xff55xee= PawnRanksBlack[FILES[_0x1b7c[53]]]- 1;var _0xff55xf1=PawnShelter[_0xff55xee];_0xff55xec= WhitePawnStorm(FILES.FILE_B);_0xff55xee= PawnRanksBlack[FILES[_0x1b7c[12]]]- 1;_0xff55xf1+= PawnShelter[_0xff55xee]/ 2;_0xff55xec+= WhitePawnStorm(FILES.FILE_A);_0xff55xee= PawnRanksBlack[FILES[_0x1b7c[54]]]- 1;_0xff55xf1+= PawnShelter[_0xff55xee]/ 2;_0xff55xec+= WhitePawnStorm(FILES.FILE_C);if(_0xff55xf1== 0){_0xff55xf1= 11};_0xff55xf1+= _0xff55xec;if(_0xff55xf1< _0xff55xef){_0xff55xef= _0xff55xf1}};_0xff55xed= ((_0xff55xed+ _0xff55xef)/ 2)| 0;_0xff55xce+= _0xff55xed;_0xff55xcf+= 0};if(_0xff55xe2){_0xff55xbf= Math[_0x1b7c[48]](_0xff55xbf,7);_0xff55xcc-= (20* _0xff55xbe* AttackWeight[_0xff55xbf])| 0;var _0xff55xec=0;var _0xff55xed=0;var _0xff55xee=0;_0xff55xee= 8- PawnRanksWhite[_0xff55xe5];_0xff55xed+= PawnShelter[_0xff55xee];_0xff55xec+= BlackPawnStorm(_0xff55xe5);if(_0xff55xe5!= FILES[_0x1b7c[12]]){_0xff55xee= 8- PawnRanksWhite[_0xff55xe5- 1];_0xff55xed+= PawnShelter[_0xff55xee]/ 2;_0xff55xec+= BlackPawnStorm(_0xff55xe5- 1)};if(_0xff55xe5!= FILES[_0x1b7c[11]]){_0xff55xee= 8- PawnRanksWhite[_0xff55xe5+ 1];_0xff55xed+= PawnShelter[_0xff55xee]/ 2;_0xff55xec+= BlackPawnStorm(_0xff55xe5+ 1)};if(_0xff55xed== 0){_0xff55xed= 11};_0xff55xed+= _0xff55xec;var _0xff55xef=_0xff55xed;if(castleRights& CASTLEBIT[_0x1b7c[55]]){_0xff55xee= 8- PawnRanksWhite[FILES[_0x1b7c[50]]];var _0xff55xf0=PawnShelter[_0xff55xee];_0xff55xec= BlackPawnStorm(FILES.FILE_G);_0xff55xee= 8- PawnRanksWhite[FILES[_0x1b7c[51]]];_0xff55xf0+= PawnShelter[_0xff55xee]/ 2;_0xff55xec+= BlackPawnStorm(FILES.FILE_F);_0xff55xee= 8- PawnRanksWhite[FILES[_0x1b7c[11]]];_0xff55xf0+= PawnShelter[_0xff55xee]/ 2;_0xff55xec+= BlackPawnStorm(FILES.FILE_H);if(_0xff55xf0== 0){_0xff55xf0= 11};_0xff55xf0+= _0xff55xec;if(_0xff55xf0< _0xff55xef){_0xff55xef= _0xff55xf0}};if(castleRights& CASTLEBIT[_0x1b7c[56]]){_0xff55xee= 8- PawnRanksWhite[FILES[_0x1b7c[53]]];var _0xff55xf1=PawnShelter[_0xff55xee];_0xff55xec= BlackPawnStorm(FILES.FILE_B);_0xff55xee= 8- PawnRanksWhite[FILES[_0x1b7c[12]]];_0xff55xf1+= PawnShelter[_0xff55xee]/ 2;_0xff55xec+= BlackPawnStorm(FILES.FILE_A);_0xff55xee= 8- PawnRanksWhite[FILES[_0x1b7c[54]]];_0xff55xf1+= PawnShelter[_0xff55xee]/ 2;_0xff55xec+= BlackPawnStorm(FILES.FILE_C);if(_0xff55xf1== 0){_0xff55xf1= 11};_0xff55xf1+= _0xff55xec;if(_0xff55xf1< _0xff55xef){_0xff55xef= _0xff55xf1}};_0xff55xed= ((_0xff55xed+ _0xff55xef)/ 2)| 0;_0xff55xce-= _0xff55xed;_0xff55xcf-= 0};if((CHESS_BOARD[SQUARES[_0x1b7c[57]]]== WHITE_KING|| CHESS_BOARD[SQUARES[_0x1b7c[37]]]== WHITE_KING)&& (CHESS_BOARD[SQUARES[_0x1b7c[58]]]== WHITE_ROOK|| CHESS_BOARD[SQUARES[_0x1b7c[37]]]== WHITE_ROOK|| CHESS_BOARD[SQUARES[_0x1b7c[59]]]== WHITE_ROOK)){_0xff55xda-= 50};if((CHESS_BOARD[SQUARES[_0x1b7c[35]]]== WHITE_KING|| CHESS_BOARD[SQUARES[_0x1b7c[60]]]== WHITE_KING)&& (CHESS_BOARD[SQUARES[_0x1b7c[61]]]== WHITE_ROOK|| CHESS_BOARD[SQUARES[_0x1b7c[60]]]== WHITE_ROOK|| CHESS_BOARD[SQUARES[_0x1b7c[62]]]== WHITE_ROOK)){_0xff55xda-= 50};if((CHESS_BOARD[SQUARES[_0x1b7c[63]]]== BLACK_KING|| CHESS_BOARD[SQUARES[_0x1b7c[38]]]== BLACK_KING)&& (CHESS_BOARD[SQUARES[_0x1b7c[64]]]== BLACK_ROOK|| CHESS_BOARD[SQUARES[_0x1b7c[38]]]== BLACK_ROOK|| CHESS_BOARD[SQUARES[_0x1b7c[65]]]== BLACK_ROOK)){_0xff55xda+= 50};if((CHESS_BOARD[SQUARES[_0x1b7c[36]]]== BLACK_KING|| CHESS_BOARD[SQUARES[_0x1b7c[66]]]== BLACK_KING)&& (CHESS_BOARD[SQUARES[_0x1b7c[67]]]== BLACK_ROOK|| CHESS_BOARD[SQUARES[_0x1b7c[66]]]== BLACK_ROOK|| CHESS_BOARD[SQUARES[_0x1b7c[68]]]== BLACK_ROOK)){_0xff55xda+= 50};if(_0xff55xc2){if(CHESS_BOARD[SQUARES[_0x1b7c[68]]]== WHITE_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[69]]]== BLACK_PAWN){_0xff55xda-= 100;_0xff55xdb-= 100};if(CHESS_BOARD[SQUARES[_0x1b7c[65]]]== WHITE_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[70]]]== BLACK_PAWN){_0xff55xda-= 100;_0xff55xdb-= 100};if(CHESS_BOARD[SQUARES[_0x1b7c[66]]]== WHITE_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[71]]]== BLACK_PAWN){_0xff55xda-= 100;_0xff55xdb-= 100};if(CHESS_BOARD[SQUARES[_0x1b7c[38]]]== WHITE_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[72]]]== BLACK_PAWN){_0xff55xda-= 100;_0xff55xdb-= 100};if(CHESS_BOARD[SQUARES[_0x1b7c[73]]]== WHITE_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[74]]]== BLACK_PAWN){_0xff55xda-= 100;_0xff55xdb-= 100};if(CHESS_BOARD[SQUARES[_0x1b7c[75]]]== WHITE_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[76]]]== BLACK_PAWN){_0xff55xda-= 100;_0xff55xdb-= 100};if(CHESS_BOARD[SQUARES[_0x1b7c[57]]]== WHITE_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[77]]]== WHITE_PAWN&& CHESS_BOARD[SQUARES[_0x1b7c[78]]]){_0xff55xda-= 50};if(CHESS_BOARD[SQUARES[_0x1b7c[35]]]== WHITE_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[79]]]== WHITE_PAWN&& CHESS_BOARD[SQUARES[_0x1b7c[80]]]){_0xff55xda-= 50}};if(_0xff55xc7){if(CHESS_BOARD[SQUARES[_0x1b7c[62]]]== BLACK_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[81]]]== WHITE_PAWN){_0xff55xda+= 100;_0xff55xdb+= 100};if(CHESS_BOARD[SQUARES[_0x1b7c[59]]]== BLACK_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[82]]]== WHITE_PAWN){_0xff55xda+= 100;_0xff55xdb+= 100};if(CHESS_BOARD[SQUARES[_0x1b7c[60]]]== BLACK_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[83]]]== WHITE_PAWN){_0xff55xda+= 100;_0xff55xdb+= 100};if(CHESS_BOARD[SQUARES[_0x1b7c[37]]]== BLACK_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[84]]]== WHITE_PAWN){_0xff55xda+= 100;_0xff55xdb+= 100};if(CHESS_BOARD[SQUARES[_0x1b7c[85]]]== BLACK_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[86]]]== WHITE_PAWN){_0xff55xda+= 100;_0xff55xdb+= 100};if(CHESS_BOARD[SQUARES[_0x1b7c[87]]]== BLACK_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[88]]]== WHITE_PAWN){_0xff55xda+= 100;_0xff55xdb+= 100};if(CHESS_BOARD[SQUARES[_0x1b7c[63]]]== BLACK_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[89]]]== BLACK_PAWN&& CHESS_BOARD[SQUARES[_0x1b7c[90]]]){_0xff55xda+= 50};if(CHESS_BOARD[SQUARES[_0x1b7c[36]]]== BLACK_BISHOP&& CHESS_BOARD[SQUARES[_0x1b7c[91]]]== BLACK_PAWN&& CHESS_BOARD[SQUARES[_0x1b7c[92]]]){_0xff55xda+= 50}};if(_0xff55xc2>= 2){_0xff55xd8+= BishopPair;_0xff55xd9+= BishopPair};if(_0xff55xc7>= 2){_0xff55xd8-= BishopPair;_0xff55xd9-= BishopPair};if(currentPlayer=== WHITE){var _0xff55xf2=20;var _0xff55xf3=10}else {var _0xff55xf2=-20;var _0xff55xf3=-10};var _0xff55xf4=brd_Material[WHITE]- brd_Material[BLACK];var _0xff55xf5=_0xff55xf4+ (_0xff55xc4* 10)- (_0xff55xc9* 10);_0xff55xf4+= _0xff55xa1- _0xff55xa2;_0xff55xf5+= _0xff55xa3- _0xff55xbb;var _0xff55xf6=_0xff55xf4;var _0xff55xf7=_0xff55xf5;_0xff55xf6+= _0xff55xca;_0xff55xf7+= _0xff55xcb;_0xff55xf6+= _0xff55xda;_0xff55xf7+= _0xff55xdb;_0xff55xf6+= _0xff55xf2;_0xff55xf7+= _0xff55xf3;_0xff55xf6+= _0xff55xcc;_0xff55xf7+= _0xff55xcd;_0xff55xf6+= _0xff55xd2;_0xff55xf7+= _0xff55xd3;_0xff55xf6+= _0xff55xd6;_0xff55xf7+= _0xff55xd7;_0xff55xf6+= _0xff55xd8;_0xff55xf7+= _0xff55xd9;_0xff55xf6+= _0xff55xd0;_0xff55xf7+= _0xff55xd1;_0xff55xf6+= _0xff55xd4;_0xff55xf7+= _0xff55xd5;_0xff55xf6+= _0xff55xce;_0xff55xf7+= _0xff55xcf;if(_0xff55x7f< 0){_0xff55x7f= 0};_0xff55x7f= (_0xff55x7f<< 8)/ 24+ 0.5| 0;var _0xff55xf8=((_0xff55xf6* (256- _0xff55x7f))+ (_0xff55xf7* _0xff55x7f))>> 8;_0xff55xf8= _0xff55xf8/ _0xff55x81| 0;if(currentPlayer=== WHITE){return _0xff55xf8}else {return -_0xff55xf8}}function WhitePawnStorm(_0xff55x7c){if(FileBBMask[_0xff55x7c]& PawnBitBoard[WHITE]& RankBBMask[RANKS[_0x1b7c[26]]]){return 60}else {if(FileBBMask[_0xff55x7c]& PawnBitBoard[WHITE]& RankBBMask[RANKS[_0x1b7c[47]]]){return 30}else {if(FileBBMask[_0xff55x7c]& PawnBitBoard[WHITE| 1]& RankBBMask[RANKS[_0x1b7c[13]]]){return 10}}};return 0}function BlackPawnStorm(_0xff55x7c){if(FileBBMask[_0xff55x7c]& PawnBitBoard[BLACK| 1]& RankBBMask[RANKS[_0x1b7c[25]]]){return 60}else {if(FileBBMask[_0xff55x7c]& PawnBitBoard[BLACK| 1]& RankBBMask[RANKS[_0x1b7c[13]]]){return 30}else {if(FileBBMask[_0xff55x7c]& PawnBitBoard[BLACK]& RankBBMask[RANKS[_0x1b7c[47]]]){return 10}}};return 0}function See(_0xff55x7c){var _0xff55x80=TOSQ(_0xff55x7c);var _0xff55x82=FROMSQ(_0xff55x7c);var _0xff55x87=CHESS_BOARD[_0xff55x82];var _0xff55x88=SeeValue[_0xff55x87];var _0xff55x7f=SeeValue[CHESS_BOARD[_0xff55x80]];if(PROMOTED(_0xff55x7c)!= 0|| (_0xff55x7c& CASTLED_MASK)|| (_0xff55x7c& CAPTURE_MASK&& _0xff55x7f== 0)){return true};if(_0xff55x88<= _0xff55x7f){return true};var _0xff55x89=_0xff55x87& 0x8;var _0xff55x9e=_0xff55x89^ 8;var _0xff55xa0=(_0xff55x89=== BLACK)?16:-16;if((CHESS_BOARD[_0xff55x80+ _0xff55xa0+ 1]=== (_0xff55x9e| PAWN))|| (CHESS_BOARD[_0xff55x80+ _0xff55xa0- 1]=== (_0xff55x9e| PAWN))){return false};var _0xff55xa1= new Array();var _0xff55xa2=_0xff55x88- _0xff55x7f;SeeAddKnightAttacks(_0xff55x80,_0xff55x9e,_0xff55xa1);if(_0xff55xa1[_0x1b7c[46]]!= 0&& _0xff55xa2> SeeValue[KNIGHT]){return false};CHESS_BOARD[_0xff55x82]= 0;for(var _0xff55xa3=BISHOP;_0xff55xa3<= QUEEN;_0xff55xa3++){if(SeeAddSliderAttacks(_0xff55x80,_0xff55x9e,_0xff55xa1,_0xff55xa3)){if(_0xff55xa2> SeeValue[_0xff55xa3]){CHESS_BOARD[_0xff55x82]= _0xff55x87;return false}}};if((CHESS_BOARD[_0xff55x80- _0xff55xa0+ 1]=== (_0xff55x89| PAWN))|| (CHESS_BOARD[_0xff55x80- _0xff55xa0- 1]=== (_0xff55x89| PAWN))){CHESS_BOARD[_0xff55x82]= _0xff55x87;return true};SeeAddSliderAttacks(_0xff55x80,_0xff55x9e,_0xff55xa1,KING);var _0xff55xbb= new Array();SeeAddKnightAttacks(_0xff55x80,_0xff55x89,_0xff55xbb);for(var _0xff55xa3=BISHOP;_0xff55xa3<= QUEEN;_0xff55xa3++){SeeAddSliderAttacks(_0xff55x80,_0xff55x89,_0xff55xbb,_0xff55xa3)};SeeAddSliderAttacks(_0xff55x80,_0xff55x89,_0xff55xbb,KING);CHESS_BOARD[_0xff55x82]= _0xff55x87;var _0xff55xbc=_0xff55x7f- _0xff55x88;for(;;){var _0xff55xbd=1000;var _0xff55xbe=-1;for(var _0xff55x81=0;_0xff55x81< _0xff55xa1[_0x1b7c[46]];_0xff55x81++){if(_0xff55xa1[_0xff55x81]!= 8){var _0xff55x7e=SeeValue[CHESS_BOARD[_0xff55xa1[_0xff55x81]]];if(_0xff55x7e< _0xff55xbd){_0xff55xbd= _0xff55x7e;_0xff55xbe= _0xff55x81}}};if(_0xff55xbe==  -1){return true};_0xff55xbc+= _0xff55xbd;if(_0xff55xbc< 0){return false};var _0xff55xbf=_0xff55xa1[_0xff55xbe];_0xff55xa1[_0xff55xbe]= 8;SeeAddXrayAttack(_0xff55x80,_0xff55xbf,_0xff55x89,_0xff55xbb,_0xff55xa1);_0xff55xbd= 1000;_0xff55xbe=  -1;for(var _0xff55x81=0;_0xff55x81< _0xff55xbb[_0x1b7c[46]];_0xff55x81++){if(_0xff55xbb[_0xff55x81]!= 8){var _0xff55x7e=SeeValue[CHESS_BOARD[_0xff55xbb[_0xff55x81]]];if(_0xff55x7e< _0xff55xbd){_0xff55xbd= _0xff55x7e;_0xff55xbe= _0xff55x81}}};if(_0xff55xbe==  -1){return false};_0xff55xbc-= _0xff55xbd;if(_0xff55xbc>= 0){return true};_0xff55xbf= _0xff55xbb[_0xff55xbe];_0xff55xbb[_0xff55xbe]= 8;SeeAddXrayAttack(_0xff55x80,_0xff55xbf,_0xff55x89,_0xff55xbb,_0xff55xa1)}}function IsSquareOnPieceLine(_0xff55x7c,_0xff55x80){var _0xff55x82=_0xff55x80- _0xff55x7c+ 128;var _0xff55x87=CHESS_BOARD[_0xff55x80];return (brd_vectorDelta[_0xff55x82][_0x1b7c[45]][(_0xff55x87& 0x8)]& (1<< (_0xff55x87& 0x07)))?true:false}function SeeAddXrayAttack(_0xff55x7c,_0xff55x80,_0xff55x82,_0xff55x87,_0xff55x88){var _0xff55x7f=_0xff55x80- _0xff55x7c+ 128;var _0xff55x89=-brd_vectorDelta[_0xff55x7f][_0x1b7c[44]];if(_0xff55x89== 0){return};_0xff55x80+= _0xff55x89;while(!(_0xff55x80& 0x88)&& CHESS_BOARD[_0xff55x80]== 0){_0xff55x80+= _0xff55x89};if(!(_0xff55x80& 0x88)&& IsSquareOnPieceLine(_0xff55x7c,_0xff55x80)){if((CHESS_BOARD[_0xff55x80]& 0x8)== _0xff55x82){_0xff55x87[_0xff55x87[_0x1b7c[46]]]= _0xff55x80}else {_0xff55x88[_0xff55x88[_0x1b7c[46]]]= _0xff55x80}}}function SeeAddKnightAttacks(_0xff55x7c,_0xff55x80,_0xff55x82){var _0xff55x87=(_0xff55x80| KNIGHT)<< 4;var _0xff55x88=brd_pieceList[_0xff55x87++];while(_0xff55x88!= 8){if(IsSquareOnPieceLine(_0xff55x7c,_0xff55x88)){_0xff55x82[_0xff55x82[_0x1b7c[46]]]= _0xff55x88};_0xff55x88= brd_pieceList[_0xff55x87++]}}function IsSquareAttackableFrom(_0xff55x7c,_0xff55x80){var _0xff55x82=_0xff55x80- _0xff55x7c+ 128;var _0xff55x87=CHESS_BOARD[_0xff55x80];if(brd_vectorDelta[_0xff55x82][_0x1b7c[45]][(_0xff55x87& 0x8)]& (1<< (_0xff55x87& 0x07))){var _0xff55x88=brd_vectorDelta[_0xff55x82][_0x1b7c[44]];do{_0xff55x80+= _0xff55x88;if(_0xff55x80== _0xff55x7c){return true}}while(!(_0xff55x80& 0x88)&& CHESS_BOARD[_0xff55x80]== 0);};return false}function SeeAddSliderAttacks(_0xff55x7c,_0xff55x80,_0xff55x82,_0xff55x87){var _0xff55x88=(_0xff55x80| _0xff55x87)<< 4;var _0xff55x7f=brd_pieceList[_0xff55x88++];var _0xff55x89=false;while(_0xff55x7f!= 8){if(IsSquareAttackableFrom(_0xff55x7c,_0xff55x7f)){_0xff55x82[_0xff55x82[_0x1b7c[46]]]= _0xff55x7f;_0xff55x89= true};_0xff55x7f= brd_pieceList[_0xff55x88++]};return _0xff55x89}function GenerateAllMoves(_0xff55x7c,_0xff55x80){var _0xff55x82=0;var _0xff55x87=0;var _0xff55x88=0;var _0xff55x7f=0;var _0xff55x89=0;var _0xff55x9e=0;brd_moveStart[boardPly+ 1]= brd_moveStart[boardPly];if(currentPlayer=== WHITE){_0xff55x87= WHITE_PAWN<< 4;_0xff55x88= brd_pieceList[_0xff55x87++];while(_0xff55x88!= 8){_0xff55x7f= _0xff55x88- 16;if(_0xff55x7c=== false){if(CHESS_BOARD[_0xff55x7f]== 0){if(TableRanks[_0xff55x88]== RANKS[_0x1b7c[24]]){AddQuietMove(_0xff55x88,_0xff55x7f,WHITE_QUEEN,0);AddQuietMove(_0xff55x88,_0xff55x7f,WHITE_ROOK,0);AddQuietMove(_0xff55x88,_0xff55x7f,WHITE_BISHOP,0);AddQuietMove(_0xff55x88,_0xff55x7f,WHITE_KNIGHT,0)}else {AddQuietMove(_0xff55x88,_0xff55x7f,0,0);if(TableRanks[_0xff55x88]== RANKS[_0x1b7c[23]]&& CHESS_BOARD[_0xff55x88- 32]== 0){AddQuietMove(_0xff55x88,_0xff55x88- 32,0,0)}}}}else {if(CHESS_BOARD[_0xff55x7f]== 0&& TableRanks[_0xff55x88]== RANKS[_0x1b7c[24]]){AddQuietMove(_0xff55x88,_0xff55x7f,WHITE_QUEEN,0)}};_0xff55x7f= _0xff55x88- 15;if(!(_0xff55x7f& 0x88)){if(CHESS_BOARD[_0xff55x7f]&& (CHESS_BOARD[_0xff55x7f]& 0x8)=== BLACK){_0xff55x89= 1000005+ (100* MvvLvaScores[CHESS_BOARD[_0xff55x7f]]);if(TableRanks[_0xff55x88]== RANKS[_0x1b7c[24]]){AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,WHITE_QUEEN,0),_0xff55x89);AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,WHITE_ROOK,0),_0xff55x89);AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,WHITE_BISHOP,0),_0xff55x89);AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,WHITE_KNIGHT,0),_0xff55x89)}else {AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,0,0),_0xff55x89)}}else {if(CHESS_BOARD[_0xff55x7f]== 0&& EN_PASSANT!= 0&& EN_PASSANT== _0xff55x7f){_0xff55x89= 1000105;AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,0,0),_0xff55x89)}}};_0xff55x7f= _0xff55x88- 17;if(!(_0xff55x7f& 0x88)){if(CHESS_BOARD[_0xff55x7f]&& (CHESS_BOARD[_0xff55x7f]& 0x8)=== BLACK){_0xff55x89= 1000005+ (100* MvvLvaScores[CHESS_BOARD[_0xff55x7f]]);if(TableRanks[_0xff55x88]== RANKS[_0x1b7c[24]]){AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,WHITE_QUEEN,0),_0xff55x89);AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,WHITE_ROOK,0),_0xff55x89);AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,WHITE_BISHOP,0),_0xff55x89);AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,WHITE_KNIGHT,0),_0xff55x89)}else {AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,0,0),_0xff55x89)}}else {if(CHESS_BOARD[_0xff55x7f]== 0&& EN_PASSANT!= 0&& EN_PASSANT== _0xff55x7f){_0xff55x89= 1000105;AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,0,0),_0xff55x89)}}};_0xff55x88= brd_pieceList[_0xff55x87++]};if(_0xff55x7c=== false){if(castleRights& CASTLEBIT[_0x1b7c[55]]){if(CHESS_BOARD[SQUARES[_0x1b7c[57]]]== 0&& CHESS_BOARD[SQUARES[_0x1b7c[37]]]== 0){if(!isSquareUnderAttack(SQUARES.E1,WHITE)&&  !isSquareUnderAttack(SQUARES.F1,WHITE)){AddQuietMove(SQUARES.E1,SQUARES.G1,0,1)}}};if(castleRights& CASTLEBIT[_0x1b7c[56]]){if(CHESS_BOARD[SQUARES[_0x1b7c[93]]]== 0&& CHESS_BOARD[SQUARES[_0x1b7c[35]]]== 0&& CHESS_BOARD[SQUARES[_0x1b7c[60]]]== 0){if(!isSquareUnderAttack(SQUARES.E1,WHITE)&&  !isSquareUnderAttack(SQUARES.D1,WHITE)){AddQuietMove(SQUARES.E1,SQUARES.C1,0,1)}}}}}else {_0xff55x87= BLACK_PAWN<< 4;_0xff55x88= brd_pieceList[_0xff55x87++];while(_0xff55x88!= 8){_0xff55x7f= _0xff55x88+ 16;if(_0xff55x7c=== false){if(CHESS_BOARD[_0xff55x7f]== 0){if(TableRanks[_0xff55x88]== RANKS[_0x1b7c[23]]){AddQuietMove(_0xff55x88,_0xff55x7f,BLACK_QUEEN,0);AddQuietMove(_0xff55x88,_0xff55x7f,BLACK_ROOK,0);AddQuietMove(_0xff55x88,_0xff55x7f,BLACK_BISHOP,0);AddQuietMove(_0xff55x88,_0xff55x7f,BLACK_KNIGHT,0)}else {AddQuietMove(_0xff55x88,_0xff55x7f,0,0);if(TableRanks[_0xff55x88]== RANKS[_0x1b7c[24]]&& CHESS_BOARD[_0xff55x88+ 32]== 0){AddQuietMove(_0xff55x88,_0xff55x88+ 32,0,0)}}}}else {if(CHESS_BOARD[_0xff55x7f]== 0&& TableRanks[_0xff55x88]== RANKS[_0x1b7c[23]]){AddQuietMove(_0xff55x88,_0xff55x7f,BLACK_QUEEN,0)}};_0xff55x7f= _0xff55x88+ 15;if(!(_0xff55x7f& 0x88)){if(CHESS_BOARD[_0xff55x7f]&& (CHESS_BOARD[_0xff55x7f]& 0x8)=== WHITE){_0xff55x89= 1000005+ (100* MvvLvaScores[CHESS_BOARD[_0xff55x7f]]);if(TableRanks[_0xff55x88]== RANKS[_0x1b7c[23]]){AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,BLACK_QUEEN,0),_0xff55x89);AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,BLACK_ROOK,0),_0xff55x89);AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,BLACK_BISHOP,0),_0xff55x89);AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,BLACK_KNIGHT,0),_0xff55x89)}else {AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,0,0),_0xff55x89)}}else {if(CHESS_BOARD[_0xff55x7f]== 0&& EN_PASSANT!= 0&& EN_PASSANT== _0xff55x7f){_0xff55x89= 1000105;AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,0,0),_0xff55x89)}}};_0xff55x7f= _0xff55x88+ 17;if(!(_0xff55x7f& 0x88)){if(CHESS_BOARD[_0xff55x7f]&& (CHESS_BOARD[_0xff55x7f]& 0x8)=== WHITE){_0xff55x89= 1000005+ (100* MvvLvaScores[CHESS_BOARD[_0xff55x7f]]);if(TableRanks[_0xff55x88]== RANKS[_0x1b7c[23]]){AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,BLACK_QUEEN,0),_0xff55x89);AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,BLACK_ROOK,0),_0xff55x89);AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,BLACK_BISHOP,0),_0xff55x89);AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,BLACK_KNIGHT,0),_0xff55x89)}else {AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,0,0),_0xff55x89)}}else {if(CHESS_BOARD[_0xff55x7f]== 0&& EN_PASSANT!= 0&& EN_PASSANT== _0xff55x7f){_0xff55x89= 1000105;AddCaptureMove(BIT_MOVE(_0xff55x88,_0xff55x7f,1,0,0),_0xff55x89)}}};_0xff55x88= brd_pieceList[_0xff55x87++]};if(_0xff55x7c=== false){if(castleRights& CASTLEBIT[_0x1b7c[49]]){if(CHESS_BOARD[SQUARES[_0x1b7c[63]]]== 0&& CHESS_BOARD[SQUARES[_0x1b7c[38]]]== 0){if(!isSquareUnderAttack(SQUARES.E8,BLACK)&&  !isSquareUnderAttack(SQUARES.F8,BLACK)){AddQuietMove(SQUARES.E8,SQUARES.G8,0,1)}}};if(castleRights& CASTLEBIT[_0x1b7c[52]]){if(CHESS_BOARD[SQUARES[_0x1b7c[94]]]== 0&& CHESS_BOARD[SQUARES[_0x1b7c[36]]]== 0&& CHESS_BOARD[SQUARES[_0x1b7c[66]]]== 0){if(!isSquareUnderAttack(SQUARES.E8,BLACK)&&  !isSquareUnderAttack(SQUARES.D8,BLACK)){AddQuietMove(SQUARES.E8,SQUARES.C8,0,1)}}}}};for(_0xff55x82= KNIGHT;_0xff55x82<= KING;_0xff55x82++){_0xff55x87= (currentPlayer| _0xff55x82)<< 4;_0xff55x88= brd_pieceList[_0xff55x87++];while(_0xff55x88!= 8){for(_0xff55x9e= 0;_0xff55x9e< DirNum[_0xff55x82];_0xff55x9e++){_0xff55x7f= (_0xff55x88+ PieceDir[_0xff55x82][_0xff55x9e]);if(_0xff55x7f& 0x88){continue};if(CHESS_BOARD[_0xff55x7f]){if((CHESS_BOARD[_0xff55x7f]& 0x8)!== currentPlayer){var _0xff55x81=BIT_MOVE(_0xff55x88,_0xff55x7f,1,0,0);if(_0xff55x80=== true&&  !See(_0xff55x81)){_0xff55x89= 106+ ((100* MvvLvaScores[CHESS_BOARD[_0xff55x7f]])- MvvLvaScores[_0xff55x82])}else {_0xff55x89= 1000006+ ((100* MvvLvaScores[CHESS_BOARD[_0xff55x7f]])- MvvLvaScores[_0xff55x82])};AddCaptureMove(_0xff55x81,_0xff55x89)}}else {if(_0xff55x7c=== false){AddQuietMove(_0xff55x88,_0xff55x7f,0,0)}}};_0xff55x88= brd_pieceList[_0xff55x87++]}};for(_0xff55x82= BISHOP;_0xff55x82<= QUEEN;_0xff55x82++){_0xff55x87= (currentPlayer| _0xff55x82)<< 4;_0xff55x88= brd_pieceList[_0xff55x87++];while(_0xff55x88!= 8){for(_0xff55x9e= 0;_0xff55x9e< DirNum[_0xff55x82];_0xff55x9e++){_0xff55x7f= (_0xff55x88+ PieceDir[_0xff55x82][_0xff55x9e]);while(!(_0xff55x7f& 0x88)){if(CHESS_BOARD[_0xff55x7f]){if((CHESS_BOARD[_0xff55x7f]& 0x8)!== currentPlayer){var _0xff55x81=BIT_MOVE(_0xff55x88,_0xff55x7f,1,0,0);if(_0xff55x80=== true&&  !See(_0xff55x81)){_0xff55x89= 106+ ((100* MvvLvaScores[CHESS_BOARD[_0xff55x7f]])- MvvLvaScores[_0xff55x82])}else {_0xff55x89= 1000006+ ((100* MvvLvaScores[CHESS_BOARD[_0xff55x7f]])- MvvLvaScores[_0xff55x82])};AddCaptureMove(_0xff55x81,_0xff55x89)};break}else {if(_0xff55x7c=== false){AddQuietMove(_0xff55x88,_0xff55x7f,0,0)}};_0xff55x7f+= PieceDir[_0xff55x82][_0xff55x9e]}};_0xff55x88= brd_pieceList[_0xff55x87++]}}}function AddQuietMove(_0xff55x7c,_0xff55x80,_0xff55x82,_0xff55x87){var _0xff55x88=BIT_MOVE(_0xff55x7c,_0xff55x80,0,_0xff55x82,_0xff55x87);if(_0xff55x82!= 0){var _0xff55x7f=950000+ _0xff55x82}else {if(searchKillers[boardPly][0]== _0xff55x88){var _0xff55x7f=900000}else {if(searchKillers[boardPly][1]== _0xff55x88){var _0xff55x7f=800000}else {var _0xff55x7f=1000+ historyTable[CHESS_BOARD[_0xff55x7c]][_0xff55x80]}}};brd_moveList[brd_moveStart[boardPly+ 1]]= _0xff55x88;brd_moveScores[brd_moveStart[boardPly+ 1]++]= _0xff55x7f}function AddCaptureMove(_0xff55x7c,_0xff55x80){brd_moveList[brd_moveStart[boardPly+ 1]]= _0xff55x7c;brd_moveScores[brd_moveStart[boardPly+ 1]++]= _0xff55x80}function PickNextMove(_0xff55x7c){var _0xff55x80=_0xff55x7c;for(var _0xff55x82=_0xff55x7c;_0xff55x82< brd_moveStart[boardPly+ 1];++_0xff55x82){if(brd_moveScores[_0xff55x82]> brd_moveScores[_0xff55x80]){_0xff55x80= _0xff55x82}};var _0xff55x87=brd_moveList[_0xff55x7c];brd_moveList[_0xff55x7c]= brd_moveList[_0xff55x80];brd_moveList[_0xff55x80]= _0xff55x87;_0xff55x87= brd_moveScores[_0xff55x7c];brd_moveScores[_0xff55x7c]= brd_moveScores[_0xff55x80];brd_moveScores[_0xff55x80]= _0xff55x87}function CheckUp(){MoveTime= (Date[_0x1b7c[95]]()- startTime);if(MoveTime> maxSearchTime){timeStop= 1}}function Quiescence(_0xff55x7c,_0xff55x80,_0xff55x82){if((nodes& 2047)== 0){CheckUp()};nodes++;if(IsRepetition()){return 0};if(boardPly> maxDepth- 1){return Evaluation()};if(_0xff55x82== UNKNOWN_CHECK){_0xff55x82= isCheck(currentPlayer)};var _0xff55x87=_0xff55x82?-INFINITE:Evaluation();if(!_0xff55x82&& _0xff55x87>= _0xff55x80){return _0xff55x87};if(!_0xff55x82&& _0xff55x87> _0xff55x7c){_0xff55x7c= _0xff55x87};var _0xff55x88=-INFINITE;var _0xff55x7f=NOMOVE;var _0xff55x89=NOMOVE;var _0xff55x9e=currentPlayer^ 8;var _0xff55x81=_0xff55x87+ 200;if(!_0xff55x82){GenerateAllMoves(true,false)}else {GenerateAllMoves(false,true)};for(var _0xff55xa0=brd_moveStart[boardPly];_0xff55xa0< brd_moveStart[boardPly+ 1];++_0xff55xa0){PickNextMove(_0xff55xa0);_0xff55x89= brd_moveList[_0xff55xa0];_0xff55x7f= CHESS_BOARD[TOSQ(_0xff55x89)];if(!_0xff55x82&&  !PROMOTED(_0xff55x89) && (brd_pieceCount[_0xff55x9e| ROOK]+ brd_pieceCount[_0xff55x9e| QUEEN]+ brd_pieceCount[_0xff55x9e| KNIGHT]+ brd_pieceCount[_0xff55x9e| BISHOP])> 1){var _0xff55xa1=_0xff55x81;if(_0xff55x7f== 0){_0xff55xa1+= PieceValue[PAWN]}else {_0xff55xa1+= PieceValue[_0xff55x7f]};if(_0xff55xa1< _0xff55x7c){if(_0xff55xa1> _0xff55x87){_0xff55x87= _0xff55xa1};continue}};if(!_0xff55x82&&  !See(_0xff55x89)){continue};if(!makeMove(_0xff55x89)){continue};_0xff55x88=  -Quiescence(-_0xff55x80,-_0xff55x7c,UNKNOWN_CHECK);unMakeMove();if(timeStop== 1){return 0};if(_0xff55x88> _0xff55x87){_0xff55x87= _0xff55x88;if(_0xff55x88> _0xff55x7c){if(_0xff55x88>= _0xff55x80){return _0xff55x88};_0xff55x7c= _0xff55x88}}};if(_0xff55x82&& _0xff55x88==  -INFINITE){return -INFINITE+ boardPly};return _0xff55x87}function AlphaBeta(_0xff55x7c,_0xff55x80,_0xff55x82,_0xff55x87,_0xff55x88){if(_0xff55x82<= 0){return Quiescence(_0xff55x7c,_0xff55x80,_0xff55x88)};if((nodes& 2047)== 0){CheckUp()};nodes++;if(boardPly!= 0&& IsRepetition()){return 0};if(boardPly> maxDepth- 1){return Evaluation()};if(boardPly!= 0){var _0xff55x7f=INFINITE- boardPly;if(_0xff55x7c<  -_0xff55x7f){_0xff55x7c=  -_0xff55x7f};if(_0xff55x80> _0xff55x7f- 1){_0xff55x80= _0xff55x7f- 1};if(_0xff55x7c>= _0xff55x80){return _0xff55x7c}};var _0xff55x89=(_0xff55x80!= _0xff55x7c+ 1);var _0xff55x81=ProbeHashMove();if(!_0xff55x89&& _0xff55x81!= NOMOVE){if(_0xff55x81[_0x1b7c[31]]>= _0xff55x82){var _0xff55xa0=_0xff55x81[_0x1b7c[32]];if(_0xff55xa0> ISMATE){_0xff55xa0-= boardPly}else {if(_0xff55xa0<  -ISMATE){_0xff55xa0+= boardPly}};if(_0xff55x81[_0x1b7c[30]]== FLAG_ALPHA&& _0xff55xa0<= _0xff55x7c){return _0xff55xa0};if(_0xff55x81[_0x1b7c[30]]== FLAG_BETA&& _0xff55xa0>= _0xff55x80){return _0xff55xa0};if(_0xff55x81[_0x1b7c[30]]== FLAG_EXACT){return _0xff55xa0}}};var _0xff55xa1=false;var _0xff55xa2=-INFINITE;if(_0xff55x88== UNKNOWN_CHECK){_0xff55x88= isCheck(currentPlayer)};if(!_0xff55x89&&  !_0xff55x88 && (brd_pieceCount[currentPlayer| KNIGHT]!= 0|| brd_pieceCount[currentPlayer| BISHOP]!= 0|| brd_pieceCount[currentPlayer| ROOK]!= 0|| brd_pieceCount[currentPlayer| QUEEN]!= 0)){_0xff55xa1= true;if(_0xff55x87|| _0xff55x82<= 4){var _0xff55xa3=Evaluation()}};if(_0xff55xa1&& _0xff55x87&&  !isMate(_0xff55x80)){if(_0xff55x82<= 2){_0xff55xa2= _0xff55xa3- 120* _0xff55x82;if(_0xff55xa2>= _0xff55x80&& PawnOnSeventh()== 0){return _0xff55xa2}};if(_0xff55x82>= 2&& _0xff55xa3>= _0xff55x80){var _0xff55xbb=EN_PASSANT;if(EN_PASSANT!= 0){HASH_EP()};EN_PASSANT= 0;currentPlayer^= 8;HASH_SIDE();if(_0xff55x82<= 4){_0xff55xa2=  -Quiescence(-_0xff55x80,-_0xff55x80+ 1,NOT_IN_CHECK)}else {_0xff55xa2=  -AlphaBeta(-_0xff55x80,-_0xff55x80+ 1,_0xff55x82- 4,false,UNKNOWN_CHECK)};currentPlayer^= 8;HASH_SIDE();EN_PASSANT= _0xff55xbb;if(EN_PASSANT!= 0){HASH_EP()};if(timeStop== 1){return 0};if(_0xff55xa2>= _0xff55x80&&  !isMate(_0xff55xa2)){return _0xff55xa2}};if(_0xff55x82<= 3&& _0xff55x81== NOMOVE){var _0xff55xbc=_0xff55x80- 240- _0xff55x82* 60;if(_0xff55xa3< _0xff55xbc&& PawnOnSeventh()== 0){_0xff55xa2= Quiescence(_0xff55xbc- 1,_0xff55xbc,NOT_IN_CHECK);if(_0xff55xa2< _0xff55xbc){return _0xff55xa2}}}};if(_0xff55x89&& boardPly!= 0&& _0xff55x82>= 4&& _0xff55x81== NOMOVE){_0xff55xa2= AlphaBeta(_0xff55x7c,_0xff55x80,_0xff55x82- 2,false,_0xff55x88);if(_0xff55xa2> _0xff55x7c){_0xff55x81= ProbeHashMove()}};_0xff55xa2=  -INFINITE;var _0xff55xcb=0;var _0xff55xd8=0;var _0xff55xbd=0;var _0xff55xbe=0;var _0xff55x7e=0;var _0xff55xbf=_0xff55x7c;var _0xff55xc0=NOMOVE;var _0xff55xc1=NOT_IN_CHECK;var _0xff55xc2=NOMOVE;var _0xff55xc3=-INFINITE;var _0xff55xc4= new Array();GenerateAllMoves(false,true);var _0xff55xc5=(!_0xff55x88&& _0xff55x82>= 3);var _0xff55xc6=(_0xff55xa1&& _0xff55x82<= 2);var _0xff55xc7=(_0xff55xa1&& _0xff55x82<= 4);var _0xff55xc8=[0,150,200,250,300];if(_0xff55xc7){var _0xff55xc9=_0xff55xa3+ _0xff55xc8[_0xff55x82]};if(_0xff55x81!= NOMOVE){for(_0xff55xbd= brd_moveStart[boardPly];_0xff55xbd< brd_moveStart[boardPly+ 1];++_0xff55xbd){if(brd_moveList[_0xff55xbd]== _0xff55x81[_0x1b7c[29]]){brd_moveScores[_0xff55xbd]= 2000000;break}}};for(_0xff55xbd= brd_moveStart[boardPly];_0xff55xbd< brd_moveStart[boardPly+ 1];++_0xff55xbd){PickNextMove(_0xff55xbd);_0xff55xc2= brd_moveList[_0xff55xbd];_0xff55x7e= brd_moveScores[_0xff55xbd];if(!makeMove(_0xff55xc2)){continue};_0xff55xc1= isCheck(currentPlayer);_0xff55xcb= 0;_0xff55xd8= 0;if(_0xff55x7e< 800000&&  !_0xff55xc1&& _0xff55xbe&& (_0xff55xc5|| _0xff55xc7|| _0xff55xc6)&&  !(_0xff55xc2& DANGER_MASK)&&  !PawnPush(TOSQ(_0xff55xc2))){if(_0xff55xc6&&  !isMate(_0xff55xc3)&& _0xff55xbe> _0xff55x82* 5){unMakeMove();continue};if(_0xff55xc7&&  !isMate(_0xff55xc3)&& _0xff55xc9< _0xff55x7c){if(_0xff55xc9> _0xff55xc3){_0xff55xc3= _0xff55xc9};unMakeMove();continue};if(_0xff55xc5&& _0xff55xbe>= 3){if(!_0xff55x89){_0xff55xd8= 0.33+ Math[_0x1b7c[16]](_0xff55x82)* Math[_0x1b7c[16]](Math[_0x1b7c[48]](_0xff55xbe,63))/ 2.25| 0}else {_0xff55xd8= 0.00+ Math[_0x1b7c[16]](_0xff55x82)* Math[_0x1b7c[16]](Math[_0x1b7c[48]](_0xff55xbe,63))/ 3.00| 0}}};if(_0xff55x88&& (_0xff55x89|| _0xff55x82< 5)){_0xff55xcb= 1};if((_0xff55x89&& _0xff55xbe!= 0)|| _0xff55xd8!= 0){_0xff55xa2=  -AlphaBeta(-_0xff55x7c- 1,-_0xff55x7c,_0xff55x82+ _0xff55xcb- _0xff55xd8- 1,true,_0xff55xc1);if(_0xff55xa2> _0xff55x7c){_0xff55xa2=  -AlphaBeta(-_0xff55x80,-_0xff55x7c,_0xff55x82+ _0xff55xcb- 1,true,_0xff55xc1)}}else {_0xff55xa2=  -AlphaBeta(-_0xff55x80,-_0xff55x7c,_0xff55x82+ _0xff55xcb- 1,true,_0xff55xc1)};_0xff55xc4[_0xff55xbe++]= _0xff55xc2;unMakeMove();if(timeStop== 1){return 0};if(_0xff55xa2> _0xff55xc3){_0xff55xc3= _0xff55xa2;_0xff55xc0= _0xff55xc2;if(boardPly== 0&& (_0xff55xbe== 1|| _0xff55xa2> _0xff55x7c)){UpdatePv(_0xff55xc2,_0xff55xa2,_0xff55x82,_0xff55x7c,_0xff55x80)};if(_0xff55xa2> _0xff55x7c){if(_0xff55xa2>= _0xff55x80){if(!_0xff55x88&& (_0xff55xc2& TACTICAL_MASK)== 0){if(searchKillers[boardPly][0]!= _0xff55xc2){searchKillers[boardPly][1]= searchKillers[boardPly][0];searchKillers[boardPly][0]= _0xff55xc2};HistoryGood(_0xff55xc2);for(var _0xff55x9e=0;_0xff55x9e< _0xff55xbe- 1;_0xff55x9e++){HistoryBad(_0xff55xc4[_0xff55x9e])}};StoreHashMove(_0xff55xc2,_0xff55xa2,FLAG_BETA,_0xff55x82);return _0xff55xa2};_0xff55x7c= _0xff55xa2}}};if(_0xff55xbe== 0){if(_0xff55x88){return -INFINITE+ boardPly}else {return 0}};if(_0xff55x7c!= _0xff55xbf){StoreHashMove(_0xff55xc0,_0xff55xc3,FLAG_EXACT,_0xff55x82)}else {StoreHashMove(_0xff55xc0,_0xff55xc3,FLAG_ALPHA,_0xff55x82)};return _0xff55xc3}function HistoryGood(_0xff55x7c){var _0xff55x80=historyTable[CHESS_BOARD[FROMSQ(_0xff55x7c)]][TOSQ(_0xff55x7c)];historyTable[CHESS_BOARD[FROMSQ(_0xff55x7c)]][TOSQ(_0xff55x7c)]+= (2048- _0xff55x80)>> 5}function HistoryBad(_0xff55x7c){if((_0xff55x7c& TACTICAL_MASK)== 0){var _0xff55x80=historyTable[CHESS_BOARD[FROMSQ(_0xff55x7c)]][TOSQ(_0xff55x7c)];historyTable[CHESS_BOARD[FROMSQ(_0xff55x7c)]][TOSQ(_0xff55x7c)]-= _0xff55x80>> 5}}function InitEnginSearch(){InitEvalMasks();InitEvalTable();brd_HashTable= null;brd_HashTable=  new Array(HASHENTRIES)}function ClearForSearch(){nodes= boardPly= bestMove= timeStop= 0;PawnBitBoard= [0,0,0,0,0,0,0,0,0,0];var _0xff55x7c=WHITE_PAWN<< 4;var _0xff55x80=brd_pieceList[_0xff55x7c++];while(_0xff55x80!= 8){SetBitBoard(_0xff55x80,WHITE);_0xff55x80= brd_pieceList[_0xff55x7c++]};var _0xff55x7c=BLACK_PAWN<< 4;var _0xff55x80=brd_pieceList[_0xff55x7c++];while(_0xff55x80!= 8){SetBitBoard(_0xff55x80,BLACK);_0xff55x80= brd_pieceList[_0xff55x7c++]};for(var _0xff55x81=0;_0xff55x81< maxDepth;_0xff55x81++){searchKillers[_0xff55x81]= [0,0]};for(var _0xff55x81=0;_0xff55x81< 16;_0xff55x81++){historyTable[_0xff55x81]=  new Array(128);for(var _0xff55xa0=0;_0xff55xa0< 128;_0xff55xa0++){historyTable[_0xff55x81][_0xff55xa0]= 1024}}}function DataUpgrade(_0xff55x7c,_0xff55x80,_0xff55x82,_0xff55x87,_0xff55x88,_0xff55x7f,_0xff55x89,_0xff55x9e,_0xff55x81,_0xff55xa0,_0xff55xa1,_0xff55xa2,_0xff55xa3,_0xff55xbb,_0xff55xbc,_0xff55xbd,_0xff55xbe){CHESS_BOARD= _0xff55x7c;castleRights= _0xff55x82;EN_PASSANT= _0xff55x87;currentPlayer= _0xff55x80;SideKeyLow= _0xff55x9e;SideKeyHigh= _0xff55xa2;brd_Material= _0xff55x88;brd_pieceList= _0xff55xbb;brd_pieceIndex= _0xff55xbc;brd_pieceCount= _0xff55xbd;PieceKeysLow= _0xff55x89;PieceKeysHigh= _0xff55xa1;brd_hashKeyLow= _0xff55x81;brd_hashKeyHigh= _0xff55xa3;CastleKeysLow= _0xff55x7f;CastleKeysHigh= _0xff55xa0;MOVE_HISTORY= _0xff55xbe;moveCount= parseInt(MOVE_HISTORY[_0x1b7c[46]]);if(moveCount> 0){brd_fiftyMove= MOVE_HISTORY[moveCount- 1][_0x1b7c[41]]}else {brd_fiftyMove= 0};return true}onmessage= function(_0xff55x88){if(_0xff55x88[_0x1b7c[96]][0]== _0x1b7c[97]){InitEnginSearch();UI_MODE= 1}else {if(_0xff55x88[_0x1b7c[96]][0]== _0x1b7c[98]){if(DataUpgrade(_0xff55x88[_0x1b7c[96]][3],_0xff55x88[_0x1b7c[96]][4],_0xff55x88[_0x1b7c[96]][5],_0xff55x88[_0x1b7c[96]][6],_0xff55x88[_0x1b7c[96]][7],_0xff55x88[_0x1b7c[96]][8],_0xff55x88[_0x1b7c[96]][9],_0xff55x88[_0x1b7c[96]][10],_0xff55x88[_0x1b7c[96]][11],_0xff55x88[_0x1b7c[96]][12],_0xff55x88[_0x1b7c[96]][13],_0xff55x88[_0x1b7c[96]][14],_0xff55x88[_0x1b7c[96]][15],_0xff55x88[_0x1b7c[96]][16],_0xff55x88[_0x1b7c[96]][17],_0xff55x88[_0x1b7c[96]][18],_0xff55x88[_0x1b7c[96]][19])){ClearForSearch();var _0xff55x7c=-INFINITE;var _0xff55x80=INFINITE;var _0xff55x82=0;var _0xff55x87=0;if(_0xff55x88[_0x1b7c[96]][2]){maxSearchTime= _0xff55x88[_0x1b7c[96]][1]> 2000?2000:_0xff55x88[_0x1b7c[96]][1]}else {maxSearchTime= _0xff55x88[_0x1b7c[96]][1]};if(maxSearchTime>= 1000){maxDepth= 64}else {maxDepth= maxSearchTime/ 100;maxSearchTime= 1000};GenerateAllMoves(false,false);for(var _0xff55x7f=brd_moveStart[0];_0xff55x7f< brd_moveStart[1];++_0xff55x7f){if(!makeMove(brd_moveList[_0xff55x7f])){continue};_0xff55x82++;unMakeMove()};startTime= Date[_0x1b7c[95]]();postMessage([_0x1b7c[99],startTime]);for(currDepth= 1;currDepth<= maxDepth;currDepth++){if(_0xff55x82== 1&& currDepth> 5&& bestMove){break};_0xff55x87= AlphaBeta(_0xff55x7c,_0xff55x80,currDepth,true,UNKNOWN_CHECK);if(timeStop== 1){break};if(_0xff55x87> _0xff55x7c&& _0xff55x87< _0xff55x80){_0xff55x7c= _0xff55x87- 50;_0xff55x80= _0xff55x87+ 50;if(_0xff55x7c<  -INFINITE){_0xff55x7c=  -INFINITE};if(_0xff55x80> INFINITE){_0xff55x80= INFINITE}}else {if(_0xff55x7c!=  -INFINITE){_0xff55x7c=  -INFINITE;_0xff55x80= INFINITE;currDepth--}}};postMessage([_0x1b7c[100],bestMove])}}}};function UpdatePv(_0xff55x7c,_0xff55x80,_0xff55x82,_0xff55x87,_0xff55x88){var _0xff55x7f=FLAG_NONE;if(_0xff55x80> _0xff55x87){_0xff55x7f|= FLAG_BETA};if(_0xff55x80< _0xff55x88){_0xff55x7f|= FLAG_ALPHA};StoreHashMove(_0xff55x7c,_0xff55x80,_0xff55x7f,_0xff55x82);var _0xff55x89=GetPvLine(_0xff55x82);bestMove= brd_PvArray[0];if(UI_MODE== 1){postMessage([_0x1b7c[101],bestMove])}else {if(UI_MODE== 2){MoveTime= (Date[_0x1b7c[95]]()- startTime);var _0xff55x9e=_0x1b7c[14];for(var _0xff55x81=0;_0xff55x81< _0xff55x89;_0xff55x81++){_0xff55x9e+= _0x1b7c[102]+ FormatMove(brd_PvArray[_0xff55x81][_0x1b7c[29]])};if(_0xff55x80<  -ISMATE){_0xff55x80= _0x1b7c[103]+ ((-INFINITE- _0xff55x80) / 2)}else {if(_0xff55x80> ISMATE){_0xff55x80= _0x1b7c[103]+ ((INFINITE- _0xff55x80+ 1)/ 2)}else {_0xff55x80= _0x1b7c[104]+ _0xff55x80}};if(_0xff55x7f== FLAG_BETA){_0xff55x80+= _0x1b7c[105]};if(_0xff55x7f== FLAG_ALPHA){_0xff55x80+= _0x1b7c[106]};nodefs[_0x1b7c[113]](1,_0x1b7c[107]+ currDepth+ _0x1b7c[108]+ _0xff55x80+ _0x1b7c[109]+ nodes+ _0x1b7c[110]+ MoveTime+ _0x1b7c[111]+ _0xff55x9e+ _0x1b7c[112])}}}function FormatMove(_0xff55x7c){if(_0xff55x7c== NOMOVE){return _0x1b7c[114]};var _0xff55x80=_0x1b7c[14];var _0xff55x82=TOSQ(_0xff55x7c);var _0xff55x87=FROMSQ(_0xff55x7c);_0xff55x80+= Letters[TableFiles[_0xff55x87]- 1]+ _0x1b7c[14]+ TableRanks[_0xff55x87];_0xff55x80+= Letters[TableFiles[_0xff55x82]- 1]+ _0x1b7c[14]+ TableRanks[_0xff55x82];if(PROMOTED(_0xff55x7c)!= 0){_0xff55x80+= [_0x1b7c[14],_0x1b7c[14],_0x1b7c[115],_0x1b7c[14],_0x1b7c[14],_0x1b7c[1],_0x1b7c[116],_0x1b7c[117]][PROMOTED(_0xff55x7c)& 0x07]};return _0xff55x80}var CastlePerm=[11,15,15,15,3,15,15,7,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,15,15,15,15,15,15,15,15,0,0,0,0,0,0,0,0,14,15,15,15,12,15,15,13];var TableMirror=[112,113,114,115,116,117,118,119,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,0,0,0,0,0,0,0,0,80,81,82,83,84,85,86,87,0,0,0,0,0,0,0,0,64,65,66,67,68,69,70,71,0,0,0,0,0,0,0,0,48,49,50,51,52,53,54,55,0,0,0,0,0,0,0,0,32,33,34,35,36,37,38,39,0,0,0,0,0,0,0,0,16,17,18,19,20,21,22,23,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7];var TableFiles=[1,2,3,4,5,6,7,8,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8];var TableRanks=[8,8,8,8,8,8,8,8,0,0,0,0,0,0,0,0,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,5,5,5,5,5,5,5,5,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1];var KingMask=[-40,-30,-50,-70,-70,-50,-30,-40,0,0,0,0,0,0,0,0,-30,-20,-40,-60,-60,-40,-20,-30,0,0,0,0,0,0,0,0,-20,-10,-30,-50,-50,-30,-10,-20,0,0,0,0,0,0,0,0,-10,0,-20,-40,-40,-20,0,-10,0,0,0,0,0,0,0,0,0,10,-10,-30,-30,-10,10,0,0,0,0,0,0,0,0,0,10,20,0,-20,-20,0,20,10,0,0,0,0,0,0,0,0,30,40,20,0,0,20,40,30,0,0,0,0,0,0,0,0,40,50,30,10,10,30,50,40];var KingEndMask=[-72,-48,-36,-24,-24,-36,-48,-72,0,0,0,0,0,0,0,0,-48,-24,-12,0,0,-12,-24,-48,0,0,0,0,0,0,0,0,-36,-12,0,12,12,0,-12,-36,0,0,0,0,0,0,0,0,-24,0,12,24,24,12,0,-24,0,0,0,0,0,0,0,0,-24,0,12,24,24,12,0,-24,0,0,0,0,0,0,0,0,-36,-12,0,12,12,0,-12,-36,0,0,0,0,0,0,0,0,-48,-24,-12,0,0,-12,-24,-48,0,0,0,0,0,0,0,0,-72,-48,-36,-24,-24,-36,-48,-72];var QueenMask=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,-5,-5,-5,-5,-5,-5,-5,-5];var QueenEndMask=[-24,-16,-12,-8,-8,-12,-16,-24,0,0,0,0,0,0,0,0,-16,-8,-4,0,0,-4,-8,-16,0,0,0,0,0,0,0,0,-12,-4,0,4,4,0,-4,-12,0,0,0,0,0,0,0,0,-8,0,4,8,8,4,0,-8,0,0,0,0,0,0,0,0,-8,0,4,8,8,4,0,-8,0,0,0,0,0,0,0,0,-12,-4,0,4,4,0,-4,-12,0,0,0,0,0,0,0,0,-16,-8,-4,0,0,-4,-8,-16,0,0,0,0,0,0,0,0,-24,-16,-12,-8,-8,-12,-16,-24];var RookMask=[-6,-3,0,3,3,0,-3,-6,0,0,0,0,0,0,0,0,-6,-3,0,3,3,0,-3,-6,0,0,0,0,0,0,0,0,-6,-3,0,3,3,0,-3,-6,0,0,0,0,0,0,0,0,-6,-3,0,3,3,0,-3,-6,0,0,0,0,0,0,0,0,-6,-3,0,3,3,0,-3,-6,0,0,0,0,0,0,0,0,-6,-3,0,3,3,0,-3,-6,0,0,0,0,0,0,0,0,-6,-3,0,3,3,0,-3,-6,0,0,0,0,0,0,0,0,-6,-3,0,3,3,0,-3,-6];var BishopMask=[-8,-8,-6,-4,-4,-6,-8,-8,0,0,0,0,0,0,0,0,-8,0,-2,0,0,-2,0,-8,0,0,0,0,0,0,0,0,-6,-2,4,2,2,4,-2,-6,0,0,0,0,0,0,0,0,-4,0,2,8,8,2,0,-4,0,0,0,0,0,0,0,0,-4,0,2,8,8,2,0,-4,0,0,0,0,0,0,0,0,-6,-2,4,2,2,4,-2,-6,0,0,0,0,0,0,0,0,-8,0,-2,0,0,-2,0,-8,0,0,0,0,0,0,0,0,-18,-18,-16,-14,-14,-16,-18,-18];var BishopEndMask=[-18,-12,-9,-6,-6,-9,-12,-18,0,0,0,0,0,0,0,0,-12,-6,-3,0,0,-3,-6,-12,0,0,0,0,0,0,0,0,-9,-3,0,3,3,0,-3,-9,0,0,0,0,0,0,0,0,-6,0,3,6,6,3,0,-6,0,0,0,0,0,0,0,0,-6,0,3,6,6,3,0,-6,0,0,0,0,0,0,0,0,-9,-3,0,3,3,0,-3,-9,0,0,0,0,0,0,0,0,-12,-6,-3,0,0,-3,-6,-12,0,0,0,0,0,0,0,0,-18,-12,-9,-6,-6,-9,-12,-18];var KnightMask=[-135,-25,-15,-10,-10,-15,-25,-135,0,0,0,0,0,0,0,0,-20,-10,0,5,5,0,-10,-20,0,0,0,0,0,0,0,0,-5,5,15,20,20,15,5,-5,0,0,0,0,0,0,0,0,-5,5,15,20,20,15,5,-5,0,0,0,0,0,0,0,0,-10,0,10,15,15,10,0,-10,0,0,0,0,0,0,0,0,-20,-10,0,5,5,0,-10,-20,0,0,0,0,0,0,0,0,-35,-25,-15,-10,-10,-15,-25,-35,0,0,0,0,0,0,0,0,-50,-40,-30,-25,-25,-30,-40,-50];var KnightEndMask=[-40,-30,-20,-15,-15,-20,-30,-40,0,0,0,0,0,0,0,0,-30,-20,-10,-5,-5,-10,-20,-30,0,0,0,0,0,0,0,0,-20,-10,0,5,5,0,-10,-20,0,0,0,0,0,0,0,0,-15,-5,5,10,10,5,-5,-15,0,0,0,0,0,0,0,0,-15,-5,5,10,10,5,-5,-15,0,0,0,0,0,0,0,0,-20,-10,0,5,5,0,-10,-20,0,0,0,0,0,0,0,0,-30,-20,-10,-5,-5,-10,-20,-30,0,0,0,0,0,0,0,0,-40,-30,-20,-15,-15,-20,-30,-40];var KnightOutpost=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,5,5,4,0,0,0,0,0,0,0,0,0,0,0,2,5,10,10,5,2,0,0,0,0,0,0,0,0,0,0,2,5,10,10,5,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var PawnMask=[-15,-5,0,5,5,0,-5,-15,0,0,0,0,0,0,0,0,-15,-5,0,5,5,0,-5,-15,0,0,0,0,0,0,0,0,-15,-5,0,5,5,0,-5,-15,0,0,0,0,0,0,0,0,-15,-5,0,15,15,0,-5,-15,0,0,0,0,0,0,0,0,-15,-5,0,25,25,0,-5,-15,0,0,0,0,0,0,0,0,-15,-5,0,15,15,0,-5,-15,0,0,0,0,0,0,0,0,-15,-5,0,5,5,0,-5,-15,0,0,0,0,0,0,0,0,-15,-5,0,5,5,0,-5,-15];if(( typeof process)!= undefined){UI_MODE= 2;var spec_id=_0x1b7c[14];var tokens=[];var nodefs=require(_0x1b7c[118]);process[_0x1b7c[121]][_0x1b7c[120]](_0x1b7c[119]);process[_0x1b7c[121]][_0x1b7c[124]](_0x1b7c[122],function(){process[_0x1b7c[123]]()});process[_0x1b7c[121]][_0x1b7c[124]](_0x1b7c[125],function(){var _0xff55x7c=process[_0x1b7c[121]][_0x1b7c[126]]();if(_0xff55x7c!== null){var _0xff55x80=_0xff55x7c[_0x1b7c[18]](_0x1b7c[112]);for(var _0xff55x82=0;_0xff55x82< _0xff55x80[_0x1b7c[46]];_0xff55x82++){message= _0xff55x80[_0xff55x82][_0x1b7c[127]](/(\r\n|\n|\r)/gm,_0x1b7c[14]);message= message[_0x1b7c[128]]();message= message[_0x1b7c[127]](/\s+/g,_0x1b7c[102]);tokens= message[_0x1b7c[18]](_0x1b7c[102]);_0xff55x7c= tokens[0];if(!_0xff55x7c){continue};if(_0xff55x7c== _0x1b7c[129]){_0xff55x7c= _0x1b7c[130]};if(_0xff55x7c== _0x1b7c[1]){_0xff55x7c= _0x1b7c[131]};if(_0xff55x7c== _0x1b7c[117]){_0xff55x7c= _0x1b7c[132]};if(_0xff55x7c== _0x1b7c[133]){_0xff55x7c= _0x1b7c[134];if(tokens[1]== _0x1b7c[135]){tokens[1]= _0x1b7c[136]}};if(_0xff55x7c== _0x1b7c[6]){_0xff55x7c= _0x1b7c[137];if(tokens[1]== _0x1b7c[3]){tokens[1]= _0x1b7c[31]}};switch(_0xff55x7c){case _0x1b7c[132]:process[_0x1b7c[123]]();break;case _0x1b7c[138]:spec_id= tokens[1];break;case _0x1b7c[140]:nodefs[_0x1b7c[113]](1,_0x1b7c[139]);break;case _0x1b7c[142]:nodefs[_0x1b7c[113]](1,_0x1b7c[141]);break;case _0x1b7c[131]:nodefs[_0x1b7c[113]](1,_0x1b7c[143]+ boardToFEN()+ _0x1b7c[112]);break;case _0x1b7c[148]:nodefs[_0x1b7c[113]](1,_0x1b7c[144]);nodefs[_0x1b7c[113]](1,_0x1b7c[145]);nodefs[_0x1b7c[113]](1,_0x1b7c[146]);nodefs[_0x1b7c[113]](1,_0x1b7c[147]);break;case _0x1b7c[130]:hashUsed= 0;moveCount= 0;InitEnginSearch();brd_fiftyMove= 0;MOVE_HISTORY=  new Array();if(SideKeyLow== 0&& SideKeyHigh== 0){InitHashKeys()};START_FEN= _0x1b7c[149]+ (currentPlayer?_0x1b7c[1]:_0x1b7c[150])+ _0x1b7c[151];CHESS_BOARD= FENToBoard();break;case _0x1b7c[134]:if(SideKeyLow== 0&& SideKeyHigh== 0){nodefs[_0x1b7c[113]](1,_0x1b7c[152]);return};moveCount= 0;brd_fiftyMove= 0;MOVE_HISTORY=  new Array();START_FEN= _0x1b7c[153];var _0xff55x87=getArr(_0x1b7c[154],_0x1b7c[155],tokens);if(_0xff55x87[_0x1b7c[156]]> 0){START_FEN= _0x1b7c[14];if(_0xff55x87[_0x1b7c[156]]<= _0xff55x87[_0x1b7c[157]]){START_FEN+= tokens[_0xff55x87[_0x1b7c[156]]]};_0xff55x87[_0x1b7c[156]]++;if(_0xff55x87[_0x1b7c[156]]<= _0xff55x87[_0x1b7c[157]]){START_FEN+= _0x1b7c[102]+ tokens[_0xff55x87[_0x1b7c[156]]]};_0xff55x87[_0x1b7c[156]]++;if(_0xff55x87[_0x1b7c[156]]<= _0xff55x87[_0x1b7c[157]]){START_FEN+= _0x1b7c[102]+ tokens[_0xff55x87[_0x1b7c[156]]]};_0xff55x87[_0x1b7c[156]]++;if(_0xff55x87[_0x1b7c[156]]<= _0xff55x87[_0x1b7c[157]]){START_FEN+= _0x1b7c[102]+ tokens[_0xff55x87[_0x1b7c[156]]]};_0xff55x87[_0x1b7c[156]]++;if(_0xff55x87[_0x1b7c[156]]<= _0xff55x87[_0x1b7c[157]]){START_FEN+= _0x1b7c[102]+ parseInt(tokens[_0xff55x87[_0x1b7c[156]]])};_0xff55x87[_0x1b7c[156]]++;if(_0xff55x87[_0x1b7c[156]]<= _0xff55x87[_0x1b7c[157]]){START_FEN+= _0x1b7c[102]+ parseInt(tokens[_0xff55x87[_0x1b7c[156]]])};_0xff55x87[_0x1b7c[156]]++};CHESS_BOARD= FENToBoard();var _0xff55x87=getArr(_0x1b7c[155],_0x1b7c[154],tokens);ClearForSearch();if(_0xff55x87[_0x1b7c[156]]> 0){for(var _0xff55x88=_0xff55x87[_0x1b7c[156]];_0xff55x88<= _0xff55x87[_0x1b7c[157]];_0xff55x88++){makeMove(GetMoveFromString(tokens[_0xff55x88]));boardPly= 0}};break;case _0x1b7c[137]:if(SideKeyLow== 0&& SideKeyHigh== 0){nodefs[_0x1b7c[113]](1,_0x1b7c[152]);return};maxSearchTime= getInt(_0x1b7c[158],0,tokens);var _0xff55x7f=getInt(_0x1b7c[31],0,tokens);if(maxSearchTime== 0){var _0xff55x89=getInt(_0x1b7c[159],30,tokens);if(currentPlayer== WHITE){var _0xff55x9e=getInt(_0x1b7c[160],0,tokens);var _0xff55x81=getInt(_0x1b7c[161],0,tokens)}else {var _0xff55x9e=getInt(_0x1b7c[162],0,tokens);var _0xff55x81=getInt(_0x1b7c[163],0,tokens)};maxSearchTime= ((_0xff55x81/ _0xff55x89)+ _0xff55x9e- 50)| 0;maxSearchTime= (maxSearchTime< 10)?10:maxSearchTime};if(_0xff55x7f<= 0){_0xff55x7f= 64}else {maxSearchTime= 1000* 60* 60};ClearForSearch();var _0xff55xa0=-INFINITE;var _0xff55xa1=INFINITE;var _0xff55xa2=0;var _0xff55xa3=0;GenerateAllMoves(false,false);for(var _0xff55x88=brd_moveStart[0];_0xff55x88< brd_moveStart[1];++_0xff55x88){if(!makeMove(brd_moveList[_0xff55x88])){continue};_0xff55xa2++;unMakeMove()};startTime= Date[_0x1b7c[95]]();for(currDepth= 1;currDepth<= _0xff55x7f;currDepth++){if(_0xff55xa2== 1&& currDepth> 5&& bestMove){break};_0xff55xa3= AlphaBeta(_0xff55xa0,_0xff55xa1,currDepth,true,UNKNOWN_CHECK);if(timeStop== 1){break};if(_0xff55xa3> _0xff55xa0&& _0xff55xa3< _0xff55xa1){_0xff55xa0= _0xff55xa3- 50;_0xff55xa1= _0xff55xa3+ 50;if(_0xff55xa0<  -INFINITE){_0xff55xa0=  -INFINITE};if(_0xff55xa1> INFINITE){_0xff55xa1= INFINITE}}else {if(_0xff55xa0!=  -INFINITE){_0xff55xa0=  -INFINITE;_0xff55xa1= INFINITE;currDepth--}}};nodefs[_0x1b7c[113]](1,_0x1b7c[164]+ FormatMove(bestMove[_0x1b7c[29]])+ _0x1b7c[112]);nodefs[_0x1b7c[113]](1,_0x1b7c[165]+ Math[_0x1b7c[166]]((1000* hashUsed)/ HASHENTRIES)+ _0x1b7c[112]);break;default:nodefs[_0x1b7c[113]](1,_0xff55x7c+ _0x1b7c[167]);break}}}})};function GetMoveFromString(_0xff55x7c){GenerateAllMoves(false,false);for(var _0xff55x80=brd_moveStart[boardPly];_0xff55x80< brd_moveStart[boardPly+ 1];++_0xff55x80){if(FormatMove(brd_moveList[_0xff55x80])== _0xff55x7c){return brd_moveList[_0xff55x80]}}}function getInt(_0xff55x7c,_0xff55x80,_0xff55x82){for(var _0xff55x87=0;_0xff55x87< _0xff55x82[_0x1b7c[46]];_0xff55x87++){if(_0xff55x82[_0xff55x87]== _0xff55x7c){if(_0xff55x87< _0xff55x82[_0x1b7c[46]]- 1){return parseInt(_0xff55x82[_0xff55x87+ 1])}}};return _0xff55x80}function getArr(_0xff55x7c,_0xff55x80,_0xff55x82){var _0xff55x87=0;var _0xff55x88=0;for(var _0xff55x7f=0;_0xff55x7f< _0xff55x82[_0x1b7c[46]];_0xff55x7f++){if(_0xff55x82[_0xff55x7f]== _0xff55x7c){_0xff55x87= _0xff55x7f+ 1;_0xff55x88= _0xff55x87;for(var _0xff55xa0=_0xff55x87;_0xff55xa0< _0xff55x82[_0x1b7c[46]];_0xff55xa0++){if(_0xff55x82[_0xff55xa0]== _0xff55x80){break};_0xff55x88= _0xff55xa0}}};return {lo:_0xff55x87,hi:_0xff55x88}}function RAND_32(){return (Math[_0x1b7c[169]]((Math[_0x1b7c[168]]()* 255)+ 1)<< 23)| (Math[_0x1b7c[169]]((Math[_0x1b7c[168]]()* 255)+ 1)<< 16)| (Math[_0x1b7c[169]]((Math[_0x1b7c[168]]()* 255)+ 1)<< 8)| Math[_0x1b7c[169]]((Math[_0x1b7c[168]]()* 255)+ 1)}function InitPieceList(){var _0xff55x7c=0;var _0xff55x80=0;OLD_PIECE_NUM= 0;brd_Material[0]= 0;brd_Material[8]= 0;for(var _0xff55x82=0;_0xff55x82< 16;_0xff55x82++){brd_pieceCount[_0xff55x82]= 0;for(var _0xff55xa0=0;_0xff55xa0< 16;_0xff55xa0++){brd_pieceList[(_0xff55x82<< 4)| _0xff55xa0]= 8}};for(var _0xff55x82=0;_0xff55x82< 120;_0xff55x82++){brd_pieceIndex[_0xff55x82]= 0;if(CHESS_BOARD[_0xff55x82]){OLD_PIECE_NUM++;_0xff55x80= CHESS_BOARD[_0xff55x82];_0xff55x7c= CHESS_BOARD[_0xff55x82]& 0x8;brd_Material[_0xff55x7c]+= PieceValue[CHESS_BOARD[_0xff55x82]];brd_pieceList[(_0xff55x80<< 4)| brd_pieceCount[_0xff55x80]]= _0xff55x82;brd_pieceIndex[_0xff55x82]= brd_pieceCount[_0xff55x80];brd_pieceCount[_0xff55x80]++}}}function InitHashKeys(){var _0xff55x7c=0;var _0xff55x80=0;SideKeyLow= RAND_32();SideKeyHigh= RAND_32();for(_0xff55x80= 0;_0xff55x80< 16;_0xff55x80++){PieceKeysLow[_0xff55x80]=  new Array(120);PieceKeysHigh[_0xff55x80]=  new Array(120);for(_0xff55x7c= 0;_0xff55x7c< 120;_0xff55x7c++){PieceKeysLow[_0xff55x80][_0xff55x7c]= RAND_32();PieceKeysHigh[_0xff55x80][_0xff55x7c]= RAND_32()}};for(_0xff55x80= 0;_0xff55x80< 16;_0xff55x80++){CastleKeysLow[_0xff55x80]= RAND_32();CastleKeysHigh[_0xff55x80]= RAND_32()}}function GenerateHashKey(){brd_hashKeyLow= 0;brd_hashKeyHigh= 0;for(var _0xff55x7c=0;_0xff55x7c< 120;_0xff55x7c++){if(CHESS_BOARD[_0xff55x7c]){brd_hashKeyLow^= PieceKeysLow[CHESS_BOARD[_0xff55x7c]][_0xff55x7c];brd_hashKeyHigh^= PieceKeysHigh[CHESS_BOARD[_0xff55x7c]][_0xff55x7c]}};if(currentPlayer== WHITE){brd_hashKeyLow^= SideKeyLow;brd_hashKeyHigh^= SideKeyHigh};if(EN_PASSANT!= 0){brd_hashKeyLow^= PieceKeysLow[0][EN_PASSANT];brd_hashKeyHigh^= PieceKeysHigh[0][EN_PASSANT]};brd_hashKeyLow^= CastleKeysLow[castleRights];brd_hashKeyHigh^= CastleKeysHigh[castleRights]}function boardToFEN(){var _0xff55x7c,_0xff55x129=0,_0xff55x12a=_0x1b7c[14];for(var _0xff55x80=0;_0xff55x80< 128;_0xff55x80++){if(!(_0xff55x80& 0x88)){var _0xff55xbb=CHESS_BOARD[_0xff55x80];if((_0xff55xbb& 0x07)=== 0x07){_0xff55x7c= _0x1b7c[170]}else {if((_0xff55xbb& 0x06)=== 0x06){_0xff55x7c= _0x1b7c[171]}else {if((_0xff55xbb& 0x05)=== 0x05){_0xff55x7c= _0x1b7c[172]}else {if((_0xff55xbb& 0x03)=== 0x03){_0xff55x7c= _0x1b7c[173]}else {if((_0xff55xbb& 0x02)=== 0x02){_0xff55x7c= _0x1b7c[174]}else {if((_0xff55xbb& 0x01)=== 0x01){_0xff55x7c= _0x1b7c[175]}}}}}};if(_0xff55xbb=== 0){_0xff55x7c= _0x1b7c[14];_0xff55x129++}else {_0xff55x7c= _0xff55x129?_0xff55x129+ _0xff55x7c:_0xff55x7c;_0xff55x129= 0};if(_0xff55xbb& 0x8){_0xff55x7c= _0xff55x7c[_0x1b7c[176]]()};_0xff55x12a+= _0xff55x7c;if(_0xff55x80% 8=== 7){if(_0xff55xbb=== 0){_0xff55x12a+= _0xff55x129};_0xff55x129= 0;_0xff55x12a+= _0x1b7c[177]}}};_0xff55x12a= _0xff55x12a[_0x1b7c[178]](0,_0xff55x12a[_0x1b7c[46]]- 1)+ _0x1b7c[102];_0xff55x12a+= currentPlayer=== 0?_0x1b7c[150]:_0x1b7c[1];if(castleRights=== 0){_0xff55x12a+= _0x1b7c[179]}else {_0xff55x12a+= _0x1b7c[102];if(castleRights& CASTLEBIT[_0x1b7c[55]]){_0xff55x12a+= _0x1b7c[173]};if(castleRights& CASTLEBIT[_0x1b7c[56]]){_0xff55x12a+= _0x1b7c[170]};if(castleRights& CASTLEBIT[_0x1b7c[49]]){_0xff55x12a+= _0x1b7c[180]};if(castleRights& CASTLEBIT[_0x1b7c[52]]){_0xff55x12a+= _0x1b7c[117]}};if(EN_PASSANT== 0){_0xff55x12a+= _0x1b7c[179]}else {_0xff55x12a+= _0x1b7c[102]+ (Letters[TableFiles[EN_PASSANT]- 1]+ _0x1b7c[14]+ TableRanks[EN_PASSANT])};_0xff55x12a+= _0x1b7c[181];_0xff55x12a+= _0x1b7c[181];return _0xff55x12a}function FENToBoard(){var _0xff55x7c={r:BLACK_ROOK,n:BLACK_KNIGHT,b:BLACK_BISHOP,q:BLACK_QUEEN,k:BLACK_KING,p:BLACK_PAWN,R:WHITE_ROOK,N:WHITE_KNIGHT,B:WHITE_BISHOP,Q:WHITE_QUEEN,K:WHITE_KING,P:WHITE_PAWN};CHESS_BOARD= [];var _0xff55x80=START_FEN[_0x1b7c[18]](_0x1b7c[102]);for(var _0xff55x82=0,_0xff55x12c=_0xff55x80[0][_0x1b7c[46]];_0xff55x82< _0xff55x12c;_0xff55x82++){var _0xff55x87=_0xff55x80[0][_0xff55x82];if(_0xff55x87=== _0x1b7c[177]){for(var _0xff55xa0=0;_0xff55xa0< 8;_0xff55xa0++){CHESS_BOARD[_0x1b7c[8]](0)};continue};if(isNaN(_0xff55x87)){CHESS_BOARD[_0x1b7c[8]](_0xff55x7c[_0xff55x87])}else {for(var _0xff55xa0=0;_0xff55xa0< parseInt(_0xff55x87,10);_0xff55xa0++){CHESS_BOARD[_0x1b7c[8]](0)}}};for(var _0xff55xa0=0;_0xff55xa0< 8;_0xff55xa0++){CHESS_BOARD[_0x1b7c[8]](0)};currentPlayer= _0xff55x80[1]=== _0x1b7c[150]?0:8;for(_0xff55xa0= 0;_0xff55xa0< 4;_0xff55xa0++){if(_0xff55x80[2][_0xff55xa0]== _0x1b7c[102]){break};switch(_0xff55x80[2][_0xff55xa0]){case _0x1b7c[173]:castleRights|= CASTLEBIT[_0x1b7c[55]];break;case _0x1b7c[170]:castleRights|= CASTLEBIT[_0x1b7c[56]];break;case _0x1b7c[180]:castleRights|= CASTLEBIT[_0x1b7c[49]];break;case _0x1b7c[117]:castleRights|= CASTLEBIT[_0x1b7c[52]];break;default:break}};if(_0xff55x80[3]== _0x1b7c[22]){EN_PASSANT= _0x1b7c[22]}else {EN_PASSANT= parseInt(SQUARES[_0xff55x80[3][_0x1b7c[182]]()])};InitPieceList();GenerateHashKey();return CHESS_BOARD}
